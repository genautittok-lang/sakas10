> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.cjs
npm warn config production Use `--omit=dev` instead.
Starting Container
9:04:54 PM [bot] Telegram bot started
/app/dist/index.cjs:68
`);rf.write(OF.format.apply(OF,t))}}Object.defineProperty(Ss.exports,"isWin",{get:function(){return Wh},set:function(e){Wh=e}});Ss.exports.warnTo=function(e){var t=rf;return rf=e,t};Ss.exports.getFileName=function(e){var t=e||process.env,a=t.PGPASSFILE||(Wh?PF.join(t.APPDATA||"./","postgresql","pgpass.conf"):PF.join(t.HOME||"./",".pgpass"));return a};Ss.exports.usePgPass=function(e,t){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:Wh?!0:(t=t||"<unkn>",Vre(e.mode)?e.mode&(Lre|Ure)?(pk('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):!0:(pk('WARNING: password file "%s" is not a plain file',t),!1))};var Qre=Ss.exports.match=function(e,t){return Bu.slice(0,-1).reduce(function(a,i,n){return n==1&&Number(e[i]||Nre)===Number(t[i])?a&&!0:a&&(t[i]==="*"||t[i]===e[i])},!0)};Ss.exports.getPassword=function(e,t,a){var i,n=t.pipe(Mre());function r(c){var l=Wre(c);l&&Gre(l)&&Qre(e,l)&&(i=l[Kre],n.end())}var s=function(){t.destroy(),a(i)},o=function(c){t.destroy(),pk("WARNING: error on reading file: %s",c),a(void 0)};t.on("error",o),n.on("data",r).on("end",s).on("error",o)};var Wre=Ss.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",a="",i=0,n=0,r=0,s={},o=!1,c=function(u,p,f){var d=e.substring(p,f);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(d=d.replace(/\\([:\\])/g,"$1")),s[Bu[u]]=d},l=0;l<e.length-1;l+=1){if(t=e.charAt(l+1),a=e.charAt(l),o=i==lk-1,o){c(i,n);break}l>=0&&t==":"&&a!=="\\"&&(c(i,n,l+1),n=l+2,i+=1)}return s=Object.keys(s).length===lk?s:null,s},Gre=Ss.exports.isValidEntry=function(e){for(var t={0:function(s){return s.length>0},1:function(s){return s==="*"?!0:(s=Number(s),isFinite(s)&&s>0&&s<9007199254740992&&Math.floor(s)===s)},2:function(s){return s.length>0},3:function(s){return s.length>0},4:function(s){return s.length>0}},a=0;a<Bu.length;a+=1){var i=t[a],n=e[Bu[a]]||"",r=i(n);if(!r)return!1}return!0}});var DF=x((_Te,fk)=>{"use strict";var kTe=require("path"),BF=require("fs"),Gh=IF();fk.exports=function(e,t){var a=Gh.getFileName();BF.stat(a,function(i,n){if(i||!Gh.usePgPass(n,a))return t(void 0);var r=BF.createReadStream(a);Gh.getPassword(e,r,t)})};fk.exports.warnTo=Gh.warnTo});var LF=x((jTe,NF)=>{"use strict";var Zre=require("events").EventEmitter,RF=Fu(),dk=nF(),Yre=Lh(),Xre=Iw(),MF=vF(),Jre=af(),ese=uk(),tse=zw(),Zh=class extends Zre{constructor(t){super(),this.connectionParameters=new Xre(t),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let a=t||{};this._Promise=a.Promise||global.Promise,this._types=new Yre(a.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.enableChannelBinding=!!a.enableChannelBinding,this.connection=a.connection||new ese({stream:a.stream,ssl:this.connectionParameters.ssl,keepAlive:a.keepAlive||!1,keepAliveInitialDelayMillis:a.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=a.binary||Jre.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=a.connectionTimeoutMillis||0}_errorAllQueries(t){let a=i=>{process.nextTick(()=>{i.handleError(t,this.connection)})};this.activeQuery&&(a(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(a),this.queryQueue.length=0}_connect(t){let a=this,i=this.connection;if(this._connectionCallback=t,this._connecting||this._connected){let n=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{t(n)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{i._ending=!0,i.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){a.ssl?i.requestSsl():i.startup(a.getStartupConf())}),i.on("sslconnect",function(){i.startup(a.getStartupConf())}),this._attachListeners(i),i.once("end",()=>{let n=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(n),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(n):this._handleErrorEvent(n):this._connectionError||this._handleErrorEvent(n)),process.nextTick(()=>{this.emit("end")})})}connect(t){if(t){this._connect(t);return}return new this._Promise((a,i)=>{this._connect(n=>{n?i(n):a()})})}_attachListeners(t){t.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),t.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),t.on("authenticationSASL",this._handleAuthSASL.bind(this)),t.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),t.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),t.on("backendKeyData",this._handleBackendKeyData.bind(this)),t.on("error",this._handleErrorEvent.bind(this)),t.on("errorMessage",this._handleErrorMessage.bind(this)),t.on("readyForQuery",this._handleReadyForQuery.bind(this)),t.on("notice",this._handleNotice.bind(this)),t.on("rowDescription",this._handleRowDescription.bind(this)),t.on("dataRow",this._handleDataRow.bind(this)),t.on("portalSuspended",this._handlePortalSuspended.bind(this)),t.on("emptyQuery",this._handleEmptyQuery.bind(this)),t.on("commandComplete",this._handleCommandComplete.bind(this)),t.on("parseComplete",this._handleParseComplete.bind(this)),t.on("copyInResponse",this._handleCopyInResponse.bind(this)),t.on("copyData",this._handleCopyData.bind(this)),t.on("notification",this._handleNotification.bind(this))}_checkPgPass(t){let a=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(i=>{if(i!==void 0){if(typeof i!="string"){a.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=i}else this.connectionParameters.password=this.password=null;t()}).catch(i=>{a.emit("error",i)});else if(this.password!==null)t();else try{DF()(this.connectionParameters,n=>{n!==void 0&&(this.connectionParameters.password=this.password=n),t()})}catch(i){this.emit("error",i)}}_handleAuthCleartextPassword(t){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(t){this._checkPgPass(async()=>{try{let a=await tse.postgresMd5PasswordHash(this.user,this.password,t.salt);this.connection.password(a)}catch(a){this.emit("error",a)}})}_handleAuthSASL(t){this._checkPgPass(()=>{try{this.saslSession=dk.startSession(t.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(a){this.connection.emit("error",a)}})}async _handleAuthSASLContinue(t){try{await dk.continueSession(this.saslSession,this.password,t.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(a){this.connection.emit("error",a)}}_handleAuthSASLFinal(t){try{dk.finalizeSession(this.saslSession,t.data),this.saslSession=null}catch(a){this.connection.emit("error",a)}}_handleBackendKeyData(t){this.processID=t.processID,this.secretKey=t.secretKey}_handleReadyForQuery(t){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:a}=this;this.activeQuery=null,this.readyForQuery=!0,a&&a.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(t){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(t);this.emit("error",t)}}_handleErrorEvent(t){if(this._connecting)return this._handleErrorWhileConnecting(t);this._queryable=!1,this._errorAllQueries(t),this.emit("error",t)}_handleErrorMessage(t){if(this._connecting)return this._handleErrorWhileConnecting(t);let a=this.activeQuery;if(!a){this._handleErrorEvent(t);return}this.activeQuery=null,a.handleError(t,this.connection)}_handleRowDescription(t){this.activeQuery.handleRowDescription(t)}_handleDataRow(t){this.activeQuery.handleDataRow(t)}_handlePortalSuspended(t){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(t){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(t){if(this.activeQuery==null){let a=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(a);return}this.activeQuery.handleCommandComplete(t,this.connection)}_handleParseComplete(){if(this.activeQuery==null){let t=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(t);return}this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(t){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(t){this.activeQuery.handleCopyData(t,this.connection)}_handleNotification(t){this.emit("notification",t)}_handleNotice(t){this.emit("notice",t)}getStartupConf(){let t=this.connectionParameters,a={user:t.user,database:t.database},i=t.application_name||t.fallback_application_name;return i&&(a.application_name=i),t.replication&&(a.replication=""+t.replication),t.statement_timeout&&(a.statement_timeout=String(parseInt(t.statement_timeout,10))),t.lock_timeout&&(a.lock_timeout=String(parseInt(t.lock_timeout,10))),t.idle_in_transaction_session_timeout&&(a.idle_in_transaction_session_timeout=String(parseInt(t.idle_in_transaction_session_timeout,10))),t.options&&(a.options=t.options),a}cancel(t,a){if(t.activeQuery===a){let i=this.connection;this.host&&this.host.indexOf("/")===0?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){i.cancel(t.processID,t.secretKey)})}else t.queryQueue.indexOf(a)!==-1&&t.queryQueue.splice(t.queryQueue.indexOf(a),1)}setTypeParser(t,a,i){return this._types.setTypeParser(t,a,i)}getTypeParser(t,a){return this._types.getTypeParser(t,a)}escapeIdentifier(t){return RF.escapeIdentifier(t)}escapeLiteral(t){return RF.escapeLiteral(t)}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let t=this.activeQuery.submit(this.connection);t&&process.nextTick(()=>{this.activeQuery.handleError(t,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(t,a,i){let n,r,s,o,c;if(t==null)throw new TypeError("Client was passed a null or undefined query");return typeof t.submit=="function"?(s=t.query_timeout||this.connectionParameters.query_timeout,r=n=t,typeof a=="function"&&(n.callback=n.callback||a)):(s=t.query_timeout||this.connectionParameters.query_timeout,n=new MF(t,a,i),n.callback||(r=new this._Promise((l,u)=>{n.callback=(p,f)=>p?u(p):l(f)}).catch(l=>{throw Error.captureStackTrace(l),l}))),s&&(c=n.callback,o=setTimeout(()=>{let l=new Error("Query read timeout");process.nextTick(()=>{n.handleError(l,this.connection)}),c(l),n.callback=()=>{};let u=this.queryQueue.indexOf(n);u>-1&&this.queryQueue.splice(u,1),this._pulseQueryQueue()},s),n.callback=(l,u)=>{clearTimeout(o),c(l,u)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"),this.connection)}),r):(this.queryQueue.push(n),this._pulseQueryQueue(),r):(process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),r)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(t){if(this._ending=!0,!this.connection._connecting||this._ended)if(t)t();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),t)this.connection.once("end",t);else return new this._Promise(a=>{this.connection.once("end",a)})}};Zh.Query=MF;NF.exports=Zh});var VF=x((STe,HF)=>{"use strict";var ase=require("events").EventEmitter,UF=function(){},$F=(e,t)=>{let a=e.findIndex(t);return a===-1?void 0:e.splice(a,1)[0]},mk=class{constructor(t,a,i){this.client=t,this.idleListener=a,this.timeoutId=i}},Du=class{constructor(t){this.callback=t}};function ise(){throw new Error("Release called on client which has already been released to the pool.")}function Yh(e,t){if(t)return{callback:t,result:void 0};let a,i,n=function(s,o){s?a(s):i(o)},r=new e(function(s,o){i=s,a=o}).catch(s=>{throw Error.captureStackTrace(s),s});return{callback:n,result:r}}function nse(e,t){return function a(i){i.client=t,t.removeListener("error",a),t.on("error",()=>{e.log("additional client error after disconnection due to error",i)}),e._remove(t),e.emit("error",i,t)}}var hk=class extends ase{constructor(t,a){super(),this.options=Object.assign({},t),t!=null&&"password"in t&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),t!=null&&t.ssl&&t.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||a||gk().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(a=>{this._remove(a.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let t=this._pendingQueue.shift();if(this._idle.length){let a=this._idle.pop();clearTimeout(a.timeoutId);let i=a.client;i.ref&&i.ref();let n=a.idleListener;return this._acquireClient(i,t,n,!1)}if(!this._isFull())return this.newClient(t);throw new Error("unexpected condition")}_remove(t,a){let i=$F(this._idle,r=>r.client===t);i!==void 0&&clearTimeout(i.timeoutId),this._clients=this._clients.filter(r=>r!==t);let n=this;t.end(()=>{n.emit("remove",t),typeof a=="function"&&a()})}connect(t){if(this.ending){let n=new Error("Cannot use a pool after calling end on the pool");return t?t(n):this.Promise.reject(n)}let a=Yh(this.Promise,t),i=a.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new Du(a.callback)),i;let n=(o,c,l)=>{clearTimeout(s),a.callback(o,c,l)},r=new Du(n),s=setTimeout(()=>{$F(this._pendingQueue,o=>o.callback===n),r.timedOut=!0,a.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return s.unref&&s.unref(),this._pendingQueue.push(r),i}return this.newClient(new Du(a.callback)),i}newClient(t){let a=new this.Client(this.options);this._clients.push(a);let i=nse(this,a);this.log("checking client timeout");let n,r=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),r=!0,a.connection?a.connection.stream.destroy():a.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),a.connect(s=>{if(n&&clearTimeout(n),a.on("error",i),s)this.log("client failed to connect",s),this._clients=this._clients.filter(o=>o!==a),r&&(s=new Error("Connection terminated due to connection timeout",{cause:s})),this._pulseQueue(),t.timedOut||t.callback(s,void 0,UF);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let o=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(a),this._idle.findIndex(l=>l.client===a)!==-1&&this._acquireClient(a,new Du((l,u,p)=>p()),i,!1)},this.options.maxLifetimeSeconds*1e3);o.unref(),a.once("end",()=>clearTimeout(o))}return this._acquireClient(a,t,i,!0)}})}_acquireClient(t,a,i,n){n&&this.emit("connect",t),this.emit("acquire",t),t.release=this._releaseOnce(t,i),t.removeListener("error",i),a.timedOut?n&&this.options.verify?this.options.verify(t,t.release):t.release():n&&this.options.verify?this.options.verify(t,r=>{if(r)return t.release(r),a.callback(r,void 0,UF);a.callback(void 0,t,t.release)}):a.callback(void 0,t,t.release)}_releaseOnce(t,a){let i=!1;return n=>{i&&ise(),i=!0,this._release(t,a,n)}}_release(t,a,i){if(t.on("error",a),t._poolUseCount=(t._poolUseCount||0)+1,this.emit("release",i,t),i||this.ending||!t._queryable||t._ending||t._poolUseCount>=this.options.maxUses)return t._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(t,this._pulseQueue.bind(this));if(this._expired.has(t))return this.log("remove expired client"),this._expired.delete(t),this._remove(t,this._pulseQueue.bind(this));let r;this.options.idleTimeoutMillis&&this._isAboveMin()&&(r=setTimeout(()=>{this.log("remove idle client"),this._remove(t,this._pulseQueue.bind(this))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&r.unref()),this.options.allowExitOnIdle&&t.unref(),this._idle.push(new mk(t,a,r)),this._pulseQueue()}query(t,a,i){if(typeof t=="function"){let r=Yh(this.Promise,t);return setImmediate(function(){return r.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),r.result}typeof a=="function"&&(i=a,a=void 0);let n=Yh(this.Promise,i);return i=n.callback,this.connect((r,s)=>{if(r)return i(r);let o=!1,c=l=>{o||(o=!0,s.release(l),i(l))};s.once("error",c),this.log("dispatching query");try{s.query(t,a,(l,u)=>{if(this.log("query dispatched"),s.removeListener("error",c),!o)return o=!0,s.release(l),l?i(l):i(void 0,u)})}catch(l){return s.release(l),i(l)}}),n.result}end(t){if(this.log("ending"),this.ending){let i=new Error("Called end on pool more than once");return t?t(i):this.Promise.reject(i)}this.ending=!0;let a=Yh(this.Promise,t);return this._endCallback=a.callback,this._pulseQueue(),a.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((t,a)=>t+(this._expired.has(a)?1:0),0)}get totalCount(){return this._clients.length}};HF.exports=hk});var WF=x((CTe,QF)=>{"use strict";var KF=require("events").EventEmitter,rse=require("util"),vk=Fu(),Ru=QF.exports=function(e,t,a){KF.call(this),e=vk.normalizeQueryConfig(e,t,a),this.text=e.text,this.values=e.values,this.name=e.name,this.queryMode=e.queryMode,this.callback=e.callback,this.state="new",this._arrayMode=e.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(i){i==="row"&&(this._emitRowEvents=!0)}.bind(this))};rse.inherits(Ru,KF);var sse={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};Ru.prototype.handleError=function(e){let t=this.native.pq.resultErrorFields();if(t)for(let a in t){let i=sse[a]||a;e[i]=t[a]}this.callback?this.callback(e):this.emit("error",e),this.state="error"};Ru.prototype.then=function(e,t){return this._getPromise().then(e,t)};Ru.prototype.catch=function(e){return this._getPromise().catch(e)};Ru.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this)),this._promise)};Ru.prototype.submit=function(e){this.state="running";let t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;let a=function(i,n,r){if(e.native.arrayMode=!1,setImmediate(function(){t.emit("_done")}),i)return t.handleError(i);t._emitRowEvents&&(r.length>1?n.forEach((s,o)=>{s.forEach(c=>{t.emit("row",c,r[o])})}):n.forEach(function(s){t.emit("row",s,r)})),t.state="end",t.emit("end",r),t.callback&&t.callback(null,r)};if(process.domain&&(a=process.domain.bind(a)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let i=(this.values||[]).map(vk.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let n=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return a(n)}return e.native.execute(this.name,i,a)}return e.native.prepare(this.name,this.text,i.length,function(n){return n?a(n):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,i,a))})}else if(this.values){if(!Array.isArray(this.values)){let n=new Error("Query values must be an array");return a(n)}let i=this.values.map(vk.prepareValue);e.native.query(this.text,i,a)}else this.queryMode==="extended"?e.native.query(this.text,[],a):e.native.query(this.text,a)}});var JF=x((ETe,XF)=>{"use strict";var GF;try{GF=require("pg-native")}catch(e){throw e}var ose=Lh(),ZF=require("events").EventEmitter,cse=require("util"),use=Iw(),YF=WF(),rn=XF.exports=function(e){ZF.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new ose(e.types),this.native=new GF({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let t=this.connectionParameters=new use(e);e.nativeConnectionString&&(t.nativeConnectionString=e.nativeConnectionString),this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};rn.Query=YF;cse.inherits(rn,ZF);rn.prototype._errorAllQueries=function(e){let t=a=>{process.nextTick(()=>{a.native=this.native,a.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0};rn.prototype._connect=function(e){let t=this;if(this._connecting){process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(a,i){if(t.connectionParameters.nativeConnectionString&&(i=t.connectionParameters.nativeConnectionString),a)return e(a);t.native.connect(i,function(n){if(n)return t.native.end(),e(n);t._connected=!0,t.native.on("error",function(r){t._queryable=!1,t._errorAllQueries(r),t.emit("error",r)}),t.native.on("notification",function(r){t.emit("notification",{channel:r.relname,payload:r.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})};rn.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((t,a)=>{this._connect(i=>{i?a(i):t()})})};rn.prototype.query=function(e,t,a){let i,n,r,s,o;if(e==null)throw new TypeError("Client was passed a null or undefined query");if(typeof e.submit=="function")r=e.query_timeout||this.connectionParameters.query_timeout,n=i=e,typeof t=="function"&&(e.callback=t);else if(r=e.query_timeout||this.connectionParameters.query_timeout,i=new YF(e,t,a),!i.callback){let c,l;n=new this._Promise((u,p)=>{c=u,l=p}).catch(u=>{throw Error.captureStackTrace(u),u}),i.callback=(u,p)=>u?l(u):c(p)}return r&&(o=i.callback,s=setTimeout(()=>{let c=new Error("Query read timeout");process.nextTick(()=>{i.handleError(c,this.connection)}),o(c),i.callback=()=>{};let l=this._queryQueue.indexOf(i);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},r),i.callback=(c,l)=>{clearTimeout(s),o(c,l)}),this._queryable?this._ending?(i.native=this.native,process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"))}),n):(this._queryQueue.push(i),this._pulseQueryQueue(),n):(i.native=this.native,process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"))}),n)};rn.prototype.end=function(e){let t=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e));let a;return e||(a=new this._Promise(function(i,n){e=r=>r?n(r):i()})),this.native.end(function(){t._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{t.emit("end"),e&&e()})}),a};rn.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};rn.prototype._pulseQueryQueue=function(e){if(!this._connected||this._hasActiveQuery())return;let t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);let a=this;t.once("_done",function(){a._pulseQueryQueue()})};rn.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):this._queryQueue.indexOf(e)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)};rn.prototype.ref=function(){};rn.prototype.unref=function(){};rn.prototype.setTypeParser=function(e,t,a){return this._types.setTypeParser(e,t,a)};rn.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}});var xk=x((qTe,e9)=>{"use strict";e9.exports=JF()});var gk=x((ATe,sf)=>{"use strict";var lse=LF(),pse=af(),fse=uk(),dse=Dw(),mse=Fu(),hse=VF(),gse=Lh(),{DatabaseError:vse}=sk(),{escapeIdentifier:xse,escapeLiteral:bse}=Fu(),yse=e=>class extends hse{constructor(a){super(a,e)}},bk=function(e){this.defaults=pse,this.Client=e,this.Query=this.Client.Query,this.Pool=yse(this.Client),this._pools=[],this.Connection=fse,this.types=tf(),this.DatabaseError=vse,this.TypeOverrides=gse,this.escapeIdentifier=xse,this.escapeLiteral=bse,this.Result=dse,this.utils=mse};typeof process.env.NODE_PG_FORCE_NATIVE<"u"?sf.exports=new bk(xk()):(sf.exports=new bk(lse),Object.defineProperty(sf.exports,"native",{configurable:!0,enumerable:!1,get(){let e=null;try{e=new bk(xk())}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t}return Object.defineProperty(sf.exports,"native",{value:e}),e}}))});var xg=x(k9=>{var ece=require("util");k9.deprecate=e=>ece.deprecate(()=>{},e,"node-telegram-bot-api")()});var Pk=x((w9e,j9)=>{"use strict";var _9=Object.prototype.toString;j9.exports=function(t){var a=_9.call(t),i=a==="[object Arguments]";return i||(i=a!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&_9.call(t.callee)==="[object Function]"),i}});var P9=x((k9e,z9)=>{"use strict";var F9;Object.keys||(gf=Object.prototype.hasOwnProperty,Ok=Object.prototype.toString,S9=Pk(),Ik=Object.prototype.propertyIsEnumerable,C9=!Ik.call({toString:null},"toString"),E9=Ik.call(function(){},"prototype"),vf=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],bg=function(e){var t=e.constructor;return t&&t.prototype===e},q9={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},T9=(function(){if(typeof window>"u")return!1;for(var e in window)try{if(!q9["$"+e]&&gf.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{bg(window[e])}catch{return!0}}catch{return!0}return!1})(),A9=function(e){if(typeof window>"u"||!T9)return bg(e);try{return bg(e)}catch{return!1}},F9=function(t){var a=t!==null&&typeof t=="object",i=Ok.call(t)==="[object Function]",n=S9(t),r=a&&Ok.call(t)==="[object String]",s=[];if(!a&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var o=E9&&i;if(r&&t.length>0&&!gf.call(t,0))for(var c=0;c<t.length;++c)s.push(String(c));if(n&&t.length>0)for(var l=0;l<t.length;++l)s.push(String(l));else for(var u in t)!(o&&u==="prototype")&&gf.call(t,u)&&s.push(String(u));if(C9)for(var p=A9(t),f=0;f<vf.length;++f)!(p&&vf[f]==="constructor")&&gf.call(t,vf[f])&&s.push(vf[f]);return s});var gf,Ok,S9,Ik,C9,E9,vf,bg,q9,T9,A9;z9.exports=F9});var D9=x((_9e,B9)=>{"use strict";var tce=Array.prototype.slice,ace=Pk(),O9=Object.keys,yg=O9?function(t){return O9(t)}:P9(),I9=Object.keys;yg.shim=function(){if(Object.keys){var t=(function(){var a=Object.keys(arguments);return a&&a.length===arguments.length})(1,2);t||(Object.keys=function(i){return ace(i)?I9(tce.call(i)):I9(i)})}else Object.keys=yg;return Object.keys||yg};B9.exports=yg});var wg=x((j9e,N9)=>{"use strict";var R9=bp(),ice=_b(),Xu=$a(),M9=gu();N9.exports=function(t,a,i){if(!t||typeof t!="object"&&typeof t!="function")throw new Xu("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new Xu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Xu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Xu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Xu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Xu("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,c=!!M9&&M9(t,a);if(R9)R9(t,a,{configurable:s===null&&c?c.configurable:!s,enumerable:n===null&&c?c.enumerable:!n,value:i,writable:r===null&&c?c.writable:!r});else if(o||!n&&!r&&!s)t[a]=i;else throw new ice("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var kg=x((S9e,U9)=>{"use strict";var Bk=bp(),L9=function(){return!!Bk};L9.hasArrayLengthDefineBug=function(){if(!Bk)return null;try{return Bk([],"length",{value:1}).length!==1}catch{return!0}};U9.exports=L9});var _g=x((C9e,K9)=>{"use strict";var nce=D9(),rce=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",sce=Object.prototype.toString,oce=Array.prototype.concat,$9=wg(),cce=function(e){return typeof e=="function"&&sce.call(e)==="[object Function]"},H9=kg()(),uce=function(e,t,a,i){if(t in e){if(i===!0){if(e[t]===a)return}else if(!cce(i)||!i())return}H9?$9(e,t,a,!0):$9(e,t,a)},V9=function(e,t){var a=arguments.length>2?arguments[2]:{},i=nce(t);rce&&(i=oce.call(i,Object.getOwnPropertySymbols(t)));for(var n=0;n<i.length;n+=1)uce(e,i[n],t[i[n]],a[i[n]])};V9.supportsDescriptors=!!H9;K9.exports=V9});var xf=x((E9e,Q9)=>{"use strict";var lce=$a();Q9.exports=function(t){if(t==null)throw new lce(arguments.length>0&&arguments[1]||"Cannot call method on "+t);return t}});var X9=x((q9e,Y9)=>{"use strict";var pce=nr(),W9=wg(),fce=kg()(),G9=gu(),Z9=$a(),dce=pce("%Math.floor%");Y9.exports=function(t,a){if(typeof t!="function")throw new Z9("`fn` is not a function");if(typeof a!="number"||a<0||a>4294967295||dce(a)!==a)throw new Z9("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,r=!0;if("length"in t&&G9){var s=G9(t,"length");s&&!s.configurable&&(n=!1),s&&!s.writable&&(r=!1)}return(n||r||!i)&&(fce?W9(t,"length",a,!0,!0):W9(t,"length",a)),t}});var ez=x((T9e,J9)=>{"use strict";var mce=vu(),hce=zm(),gce=Tb();J9.exports=function(){return gce(mce,hce,arguments)}});var Dk=x((A9e,jg)=>{"use strict";var vce=X9(),tz=bp(),xce=Pm(),az=ez();jg.exports=function(t){var a=xce(arguments),i=t.length-(arguments.length-1);return vce(a,1+(i>0?i:0),!0)};tz?tz(jg.exports,"apply",{value:az}):jg.exports.apply=az});var rz=x((F9e,nz)=>{"use strict";var bce=nr(),iz=bce("%Array%"),yce=!iz.isArray&&zn()("Object.prototype.toString");nz.exports=iz.isArray||function(t){return yce(t)==="[object Array]"}});var oz=x((z9e,sz)=>{"use strict";sz.exports=rz()});var uz=x((P9e,cz)=>{"use strict";var wce=nr(),kce=zn(),_ce=$a(),jce=oz(),Sce=wce("%Reflect.apply%",!0)||kce("Function.prototype.apply");cz.exports=function(t,a){var i=arguments.length>2?arguments[2]:[];if(!jce(i))throw new _ce("Assertion failed: optional `argumentsList`, if provided, must be a List");return Sce(t,a,i)}});var pz=x((O9e,lz)=>{"use strict";lz.exports=function(t){return typeof t=="string"||typeof t=="symbol"}});var Rk=x((I9e,fz)=>{"use strict";fz.exports=function(t){return!!t&&(typeof t=="function"||typeof t=="object")}});var Mk=x((B9e,mz)=>{"use strict";var dz=$a(),Cce=hu(),Ece=pz(),qce=Rk();mz.exports=function(t,a){if(!qce(t))throw new dz("Assertion failed: Type(O) is not Object");if(!Ece(a))throw new dz("Assertion failed: P is not a Property Key, got "+Cce(a));return t[a]}});var Hk=x((D9e,vz)=>{"use strict";var gz=Function.prototype.toString,Ju=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Lk,Sg;if(typeof Ju=="function"&&typeof Object.defineProperty=="function")try{Lk=Object.defineProperty({},"length",{get:function(){throw Sg}}),Sg={},Ju(function(){throw 42},null,Lk)}catch(e){e!==Sg&&(Ju=null)}else Ju=null;var Tce=/^\s*class\b/,Uk=function(t){try{var a=gz.call(t);return Tce.test(a)}catch{return!1}},Nk=function(t){try{return Uk(t)?!1:(gz.call(t),!0)}catch{return!1}},Cg=Object.prototype.toString,Ace="[object Object]",Fce="[object Function]",zce="[object GeneratorFunction]",Pce="[object HTMLAllCollection]",Oce="[object HTML document.all class]",Ice="[object HTMLCollection]",Bce=typeof Symbol=="function"&&!!Symbol.toStringTag,Dce=!(0 in[,]),$k=function(){return!1};typeof document=="object"&&(hz=document.all,Cg.call(hz)===Cg.call(document.all)&&($k=function(t){if((Dce||!t)&&(typeof t>"u"||typeof t=="object"))try{var a=Cg.call(t);return(a===Pce||a===Oce||a===Ice||a===Ace)&&t("")==null}catch{}return!1}));var hz;vz.exports=Ju?function(t){if($k(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Ju(t,null,Lk)}catch(a){if(a!==Sg)return!1}return!Uk(t)&&Nk(t)}:function(t){if($k(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Bce)return Nk(t);if(Uk(t))return!1;var a=Cg.call(t);return a!==Fce&&a!==zce&&!/^\[object HTML/.test(a)?!1:Nk(t)}});var bz=x((R9e,xz)=>{"use strict";xz.exports=Hk()});var wz=x((M9e,yz)=>{"use strict";yz.exports=Number.MAX_SAFE_INTEGER||9007199254740991});var _z=x((N9e,kz)=>{"use strict";kz.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}});var Sz=x((L9e,jz)=>{"use strict";jz.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}});var Eg=x((U9e,Cz)=>{"use strict";var Rce=Sb();Cz.exports=function(){return Rce()&&!!Symbol.toStringTag}});var Tz=x(($9e,qz)=>{"use strict";var Ez=zn(),Mce=Ez("Date.prototype.getDay"),Nce=function(t){try{return Mce(t),!0}catch{return!1}},Lce=Ez("Object.prototype.toString"),Uce="[object Date]",$ce=Eg()();qz.exports=function(t){return typeof t!="object"||t===null?!1:$ce?Nce(t):Lce(t)===Uce}});var Iz=x((H9e,Oz)=>{"use strict";var Az=zn(),Hce=Eg()(),Vce=xu(),Kce=gu(),Qk;Hce?(Fz=Az("RegExp.prototype.exec"),Vk={},qg=function(){throw Vk},Kk={toString:qg,valueOf:qg},typeof Symbol.toPrimitive=="symbol"&&(Kk[Symbol.toPrimitive]=qg),Qk=function(t){if(!t||typeof t!="object")return!1;var a=Kce(t,"lastIndex"),i=a&&Vce(a,"value");if(!i)return!1;try{Fz(t,Kk)}catch(n){return n===Vk}}):(zz=Az("Object.prototype.toString"),Pz="[object RegExp]",Qk=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:zz(t)===Pz});var Fz,Vk,qg,Kk,zz,Pz;Oz.exports=Qk});var Wk=x((V9e,Bz)=>{"use strict";var Qce=zn(),Wce=Iz(),Gce=Qce("RegExp.prototype.exec"),Zce=$a();Bz.exports=function(t){if(!Wce(t))throw new Zce("`regex` must be a RegExp");return function(i){return Gce(t,i)!==null}}});var Lz=x((K9e,Gk)=>{"use strict";var Nz=zn(),Yce=Nz("Object.prototype.toString"),Xce=Cb()(),Jce=Wk();Xce?(Dz=Nz("Symbol.prototype.toString"),Rz=Jce(/^Symbol\(.*\)$/),Mz=function(t){return typeof t.valueOf()!="symbol"?!1:Rz(Dz(t))},Gk.exports=function(t){if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||Yce(t)!=="[object Symbol]")return!1;try{return Mz(t)}catch{return!1}}):Gk.exports=function(t){return!1};var Dz,Rz,Mz});var Vz=x((Q9e,Hz)=>{"use strict";var eue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Zk=Sz(),$z=Hk(),tue=Tz(),Uz=Lz(),aue=function(t,a){if(typeof t>"u"||t===null)throw new TypeError("Cannot call method on "+t);if(typeof a!="string"||a!=="number"&&a!=="string")throw new TypeError('hint must be "string" or "number"');var i=a==="string"?["toString","valueOf"]:["valueOf","toString"],n,r,s;for(s=0;s<i.length;++s)if(n=t[i[s]],$z(n)&&(r=n.call(t),Zk(r)))return r;throw new TypeError("No default value")},iue=function(t,a){var i=t[a];if(i!==null&&typeof i<"u"){if(!$z(i))throw new TypeError(i+" returned for property "+String(a)+" of object "+t+" is not a function");return i}};Hz.exports=function(t){if(Zk(t))return t;var a="default";arguments.length>1&&(arguments[1]===String?a="string":arguments[1]===Number&&(a="number"));var i;if(eue&&(Symbol.toPrimitive?i=iue(t,Symbol.toPrimitive):Uz(t)&&(i=Symbol.prototype.valueOf)),typeof i<"u"){var n=i.call(t,a);if(Zk(n))return n;throw new TypeError("unable to convert exotic object to primitive")}return a==="default"&&(tue(t)||Uz(t))&&(a="string"),aue(t,a==="default"?"number":a)}});var Wz=x((W9e,Qz)=>{"use strict";var Kz=Vz();Qz.exports=function(t){return arguments.length>1?Kz(t,arguments[1]):Kz(t)}});var Yk=x((G9e,Gz)=>{"use strict";var nue=nr(),rue=nue("%String%"),sue=$a();Gz.exports=function(t){if(typeof t=="symbol")throw new sue("Cannot convert a Symbol value to a string");return rue(t)}});var Xk=x((Z9e,Xz)=>{"use strict";var oue=xf(),cue=Yk(),uue=zn(),Zz=uue("String.prototype.replace"),Yz=/^\s$/.test("\u180E"),lue=Yz?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,pue=Yz?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;Xz.exports=function(){var t=cue(oue(this));return Zz(Zz(t,lue,""),pue,"")}});var Jk=x((Y9e,eP)=>{"use strict";var fue=Xk(),Jz="\u200B",el="\u180E";eP.exports=function(){return String.prototype.trim&&Jz.trim()===Jz&&el.trim()===el&&("_"+el).trim()==="_"+el&&(el+"_").trim()===el+"_"?String.prototype.trim:fue}});var iP=x((X9e,aP)=>{"use strict";var due=kg()(),tP=wg(),mue=Jk();aP.exports=function(){var t=mue();return String.prototype.trim!==t&&(due?tP(String.prototype,"trim",t,!0):tP(String.prototype,"trim",t)),t}});var oP=x((J9e,sP)=>{"use strict";var hue=Dk(),gue=_g(),vue=xf(),xue=Xk(),nP=Jk(),bue=iP(),yue=hue(nP()),rP=function(t){return vue(t),yue(t)};gue(rP,{getPolyfill:nP,implementation:xue,shim:bue});sP.exports=rP});var fP=x((eze,pP)=>{"use strict";var lP=nr(),wue=lP("%RegExp%"),kue=$a(),cP=lP("%parseInt%"),_ue=zn(),Tg=Wk(),uP=_ue("String.prototype.slice"),jue=Tg(/^0b[01]+$/i),Sue=Tg(/^0o[0-7]+$/i),Cue=Tg(/^[-+]0x[0-9a-f]+$/i),Eue=["\x85","\u200B","\uFFFE"].join(""),que=new wue("["+Eue+"]","g"),Tue=Tg(que),Aue=oP();pP.exports=function e(t){if(typeof t!="string")throw new kue("Assertion failed: `argument` is not a String");if(jue(t))return+cP(uP(t,2),2);if(Sue(t))return+cP(uP(t,2),8);if(Tue(t)||Cue(t))return NaN;var a=Aue(t);return a!==t?e(a):+t}});var hP=x((tze,mP)=>{"use strict";var Fue=nr(),dP=$a(),zue=Fue("%Number%"),Pue=_z(),Oue=Wz(),Iue=fP();mP.exports=function(t){var a=Pue(t)?t:Oue(t,zue);if(typeof a=="symbol")throw new dP("Cannot convert a Symbol value to a number");if(typeof a=="bigint")throw new dP("Conversion from 'BigInt' to 'number' is not allowed.");return typeof a=="string"?Iue(a):+a}});var vP=x((aze,gP)=>{"use strict";var Bue=jb();gP.exports=function(t){return typeof t=="bigint"?t:Bue(t)}});var yP=x((ize,bP)=>{"use strict";var xP=vP(),Due=$a();bP.exports=function(t){if(typeof t!="number"&&typeof t!="bigint")throw new Due("argument must be a Number or a BigInt");var a=t<0?-xP(-t):xP(t);return a===0?0:a}});var kP=x((nze,wP)=>{"use strict";var Rue=qm();wP.exports=function(t){return(typeof t=="number"||typeof t=="bigint")&&!Rue(t)&&t!==1/0&&t!==-1/0}});var jP=x((rze,_P)=>{"use strict";var Mue=hP(),Nue=yP(),Lue=qm(),Uue=kP();_P.exports=function(t){var a=Mue(t);return Lue(a)||a===0?0:Uue(a)?Nue(a):a}});var EP=x((sze,CP)=>{"use strict";var SP=wz(),$ue=jP();CP.exports=function(t){var a=$ue(t);return a<=0?0:a>SP?SP:a}});var TP=x((oze,qP)=>{"use strict";var Hue=$a(),Vue=Rk(),Kue=Mk(),Que=EP();qP.exports=function(t){if(!Vue(t))throw new Hue("Assertion failed: `obj` must be an Object");return Que(Kue(t,"length"))}});var FP=x((cze,AP)=>{"use strict";AP.exports=function(t){return!!t}});var PP=x((uze,zP)=>{"use strict";var Wue=Em(),Gue=xf();zP.exports=function(t){return Gue(t),Wue(t)}});var e_=x((lze,OP)=>{"use strict";var Zue=uz(),Yue=Mk(),Xue=bz(),Jue=TP(),ele=FP(),tle=PP(),ale=Yk();OP.exports=function(t){var a=tle(this),i=Jue(a);if(!Xue(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var n=arguments.length>1?arguments[1]:void 0,r=0;r<i;){var s=ale(r),o=Yue(a,s),c=ele(Zue(t,n,[o,r,a]));if(c)return r;r+=1}return-1}});var t_=x((pze,IP)=>{"use strict";var ile=e_();IP.exports=function(){var t=Array.prototype.findIndex&&[,1].findIndex(function(a,i){return i===0})===0;return t?Array.prototype.findIndex:ile}});var NP=x((fze,MP)=>{"use strict";var nle=xu(),RP=typeof Symbol=="function"&&typeof Symbol.unscopables=="symbol",BP=RP&&Array.prototype[Symbol.unscopables],DP=TypeError;MP.exports=function(t){if(typeof t!="string"||!t)throw new DP("method must be a non-empty string");if(!nle(Array.prototype,t))throw new DP("method must be on Array.prototype");RP&&BP&&(BP[t]=!0)}});var UP=x((dze,LP)=>{"use strict";var rle=_g(),sle=NP(),ole=t_();LP.exports=function(){var t=ole();return rle(Array.prototype,{findIndex:t},{findIndex:function(){return Array.prototype.findIndex!==t}}),sle("findIndex"),t}});var a_=x((mze,VP)=>{"use strict";var cle=_g(),ule=xf(),lle=Dk(),ple=zn(),fle=e_(),$P=t_(),dle=UP(),mle=ple("Array.prototype.slice"),hle=lle.apply($P()),HP=function(t,a){ule(t);var i=mle(arguments,1);return hle(t,i)};cle(HP,{getPolyfill:$P,implementation:fle,shim:dle});VP.exports=HP});var Pg=x(fo=>{"use strict";var gle=(function(){function e(t,a){for(var i=0;i<a.length;i++){var n=a[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}})();function Ag(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}fo.BaseError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a+": "+i));return n.code=a,n}return gle(t,[{key:"toJSON",value:function(){return{code:this.code,message:this.message}}}]),t})(Error);fo.FatalError=(function(e){zg(t,e);function t(a){Ag(this,t);var i=typeof a=="string"?null:a,n=i?i.message:a,r=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"EFATAL",n));return i&&(r.stack=i.stack,r.cause=i),r}return t})(fo.BaseError);fo.ParseError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"EPARSE",a));return n.response=i,n}return t})(fo.BaseError);fo.TelegramError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ETELEGRAM",a));return n.response=i,n}return t})(fo.BaseError)});var i_=x((gze,KP)=>{"use strict";function vle(e){a.debug=a,a.default=a,a.coerce=c,a.disable=s,a.enable=r,a.enabled=o,a.humanize=Zs(),Object.keys(e).forEach(function(l){a[l]=e[l]}),a.instances=[],a.names=[],a.skips=[],a.formatters={};function t(l){for(var u=0,p=0;p<l.length;p++)u=(u<<5)-u+l.charCodeAt(p),u|=0;return a.colors[Math.abs(u)%a.colors.length]}a.selectColor=t;function a(l){var u;function p(){if(p.enabled){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];var g=p,v=Number(new Date),k=v-(u||v);g.diff=k,g.prev=u,g.curr=v,u=v,d[0]=a.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");var E=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(A,$){if(A==="%%")return A;E++;var D=a.formatters[$];if(typeof D=="function"){var z=d[E];A=D.call(g,z),d.splice(E,1),E--}return A}),a.formatArgs.call(g,d);var T=g.log||a.log;T.apply(g,d)}}return p.namespace=l,p.enabled=a.enabled(l),p.useColors=a.useColors(),p.color=t(l),p.destroy=i,p.extend=n,typeof a.init=="function"&&a.init(p),a.instances.push(p),p}function i(){var l=a.instances.indexOf(this);return l!==-1?(a.instances.splice(l,1),!0):!1}function n(l,u){return a(this.namespace+(typeof u>"u"?":":u)+l)}function r(l){a.save(l),a.names=[],a.skips=[];var u,p=(typeof l=="string"?l:"").split(/[\s,]+/),f=p.length;for(u=0;u<f;u++)p[u]&&(l=p[u].replace(/\*/g,".*?"),l[0]==="-"?a.skips.push(new RegExp("^"+l.substr(1)+"$")):a.names.push(new RegExp("^"+l+"$")));for(u=0;u<a.instances.length;u++){var d=a.instances[u];d.enabled=a.enabled(d.namespace)}}function s(){a.enable("")}function o(l){if(l[l.length-1]==="*")return!0;var u,p;for(u=0,p=a.skips.length;u<p;u++)if(a.skips[u].test(l))return!1;for(u=0,p=a.names.length;u<p;u++)if(a.names[u].test(l))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}return a.enable(a.load()),a}KP.exports=vle});var QP=x((Ln,Ig)=>{"use strict";function Og(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Og=function(a){return typeof a}:Og=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Og(e)}Ln.log=yle;Ln.formatArgs=ble;Ln.save=wle;Ln.load=kle;Ln.useColors=xle;Ln.storage=_le();Ln.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xle(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ble(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ig.exports.humanize(this.diff),!!this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(n){n!=="%%"&&(a++,n==="%c"&&(i=a))}),e.splice(i,0,t)}}function yle(){var e;return(typeof console>"u"?"undefined":Og(console))==="object"&&console.log&&(e=console).log.apply(e,arguments)}function wle(e){try{e?Ln.storage.setItem("debug",e):Ln.storage.removeItem("debug")}catch{}}function kle(){var e;try{e=Ln.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function _le(){try{return localStorage}catch{}}Ig.exports=i_()(Ln);var jle=Ig.exports.formatters;jle.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var GP=x((Ci,Rg)=>{"use strict";var Sle=require("tty"),Dg=require("util");Ci.init=zle;Ci.log=Tle;Ci.formatArgs=Ele;Ci.save=Ale;Ci.load=Fle;Ci.useColors=Cle;Ci.colors=[6,2,3,4,5,1];try{Bg=require("supports-color"),Bg&&(Bg.stderr||Bg).level>=2&&(Ci.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}var Bg;Ci.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var a=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(n,r){return r.toUpperCase()}),i=process.env[t];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),e[a]=i,e},{});function Cle(){return"colors"in Ci.inspectOpts?!!Ci.inspectOpts.colors:Sle.isatty(process.stderr.fd)}function Ele(e){var t=this.namespace,a=this.useColors;if(a){var i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),r="  ".concat(n,";1m").concat(t," \x1B[0m");e[0]=r+e[0].split(`
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  internalQuery: undefined,
Node.js v18.20.5
  where: undefined,
  schema: undefined,
  file: 'parse_relation.c',
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /app/dist/index.cjs:465:1952 {
  line: '1449',
  detail: undefined,
    at async /app/dist/index.cjs:359:31480
  length: 108,
  routine: 'parserOpenTable'
  hint: undefined,
    at async zk.countBotUsers (/app/dist/index.cjs:359:103728)
  severity: 'ERROR',
error: relation "bot_users" does not exist
}
  position: '22',
    at async qje (/app/dist/index.cjs:447:966)
  code: '42P01',
    at async kK (/app/dist/index.cjs:453:438)
    at /app/dist/index.cjs:68:13356
  table: undefined,
  internalPosition: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
npm warn config production Use `--omit=dev` instead.
> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.cjs
9:04:57 PM [bot] Telegram bot started
/app/dist/index.cjs:68
`);rf.write(OF.format.apply(OF,t))}}Object.defineProperty(Ss.exports,"isWin",{get:function(){return Wh},set:function(e){Wh=e}});Ss.exports.warnTo=function(e){var t=rf;return rf=e,t};Ss.exports.getFileName=function(e){var t=e||process.env,a=t.PGPASSFILE||(Wh?PF.join(t.APPDATA||"./","postgresql","pgpass.conf"):PF.join(t.HOME||"./",".pgpass"));return a};Ss.exports.usePgPass=function(e,t){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:Wh?!0:(t=t||"<unkn>",Vre(e.mode)?e.mode&(Lre|Ure)?(pk('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):!0:(pk('WARNING: password file "%s" is not a plain file',t),!1))};var Qre=Ss.exports.match=function(e,t){return Bu.slice(0,-1).reduce(function(a,i,n){return n==1&&Number(e[i]||Nre)===Number(t[i])?a&&!0:a&&(t[i]==="*"||t[i]===e[i])},!0)};Ss.exports.getPassword=function(e,t,a){var i,n=t.pipe(Mre());function r(c){var l=Wre(c);l&&Gre(l)&&Qre(e,l)&&(i=l[Kre],n.end())}var s=function(){t.destroy(),a(i)},o=function(c){t.destroy(),pk("WARNING: error on reading file: %s",c),a(void 0)};t.on("error",o),n.on("data",r).on("end",s).on("error",o)};var Wre=Ss.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",a="",i=0,n=0,r=0,s={},o=!1,c=function(u,p,f){var d=e.substring(p,f);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(d=d.replace(/\\([:\\])/g,"$1")),s[Bu[u]]=d},l=0;l<e.length-1;l+=1){if(t=e.charAt(l+1),a=e.charAt(l),o=i==lk-1,o){c(i,n);break}l>=0&&t==":"&&a!=="\\"&&(c(i,n,l+1),n=l+2,i+=1)}return s=Object.keys(s).length===lk?s:null,s},Gre=Ss.exports.isValidEntry=function(e){for(var t={0:function(s){return s.length>0},1:function(s){return s==="*"?!0:(s=Number(s),isFinite(s)&&s>0&&s<9007199254740992&&Math.floor(s)===s)},2:function(s){return s.length>0},3:function(s){return s.length>0},4:function(s){return s.length>0}},a=0;a<Bu.length;a+=1){var i=t[a],n=e[Bu[a]]||"",r=i(n);if(!r)return!1}return!0}});var DF=x((_Te,fk)=>{"use strict";var kTe=require("path"),BF=require("fs"),Gh=IF();fk.exports=function(e,t){var a=Gh.getFileName();BF.stat(a,function(i,n){if(i||!Gh.usePgPass(n,a))return t(void 0);var r=BF.createReadStream(a);Gh.getPassword(e,r,t)})};fk.exports.warnTo=Gh.warnTo});var LF=x((jTe,NF)=>{"use strict";var Zre=require("events").EventEmitter,RF=Fu(),dk=nF(),Yre=Lh(),Xre=Iw(),MF=vF(),Jre=af(),ese=uk(),tse=zw(),Zh=class extends Zre{constructor(t){super(),this.connectionParameters=new Xre(t),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let a=t||{};this._Promise=a.Promise||global.Promise,this._types=new Yre(a.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.enableChannelBinding=!!a.enableChannelBinding,this.connection=a.connection||new ese({stream:a.stream,ssl:this.connectionParameters.ssl,keepAlive:a.keepAlive||!1,keepAliveInitialDelayMillis:a.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=a.binary||Jre.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=a.connectionTimeoutMillis||0}_errorAllQueries(t){let a=i=>{process.nextTick(()=>{i.handleError(t,this.connection)})};this.activeQuery&&(a(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(a),this.queryQueue.length=0}_connect(t){let a=this,i=this.connection;if(this._connectionCallback=t,this._connecting||this._connected){let n=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{t(n)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{i._ending=!0,i.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){a.ssl?i.requestSsl():i.startup(a.getStartupConf())}),i.on("sslconnect",function(){i.startup(a.getStartupConf())}),this._attachListeners(i),i.once("end",()=>{let n=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(n),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(n):this._handleErrorEvent(n):this._connectionError||this._handleErrorEvent(n)),process.nextTick(()=>{this.emit("end")})})}connect(t){if(t){this._connect(t);return}return new this._Promise((a,i)=>{this._connect(n=>{n?i(n):a()})})}_attachListeners(t){t.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),t.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),t.on("authenticationSASL",this._handleAuthSASL.bind(this)),t.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),t.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),t.on("backendKeyData",this._handleBackendKeyData.bind(this)),t.on("error",this._handleErrorEvent.bind(this)),t.on("errorMessage",this._handleErrorMessage.bind(this)),t.on("readyForQuery",this._handleReadyForQuery.bind(this)),t.on("notice",this._handleNotice.bind(this)),t.on("rowDescription",this._handleRowDescription.bind(this)),t.on("dataRow",this._handleDataRow.bind(this)),t.on("portalSuspended",this._handlePortalSuspended.bind(this)),t.on("emptyQuery",this._handleEmptyQuery.bind(this)),t.on("commandComplete",this._handleCommandComplete.bind(this)),t.on("parseComplete",this._handleParseComplete.bind(this)),t.on("copyInResponse",this._handleCopyInResponse.bind(this)),t.on("copyData",this._handleCopyData.bind(this)),t.on("notification",this._handleNotification.bind(this))}_checkPgPass(t){let a=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(i=>{if(i!==void 0){if(typeof i!="string"){a.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=i}else this.connectionParameters.password=this.password=null;t()}).catch(i=>{a.emit("error",i)});else if(this.password!==null)t();else try{DF()(this.connectionParameters,n=>{n!==void 0&&(this.connectionParameters.password=this.password=n),t()})}catch(i){this.emit("error",i)}}_handleAuthCleartextPassword(t){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(t){this._checkPgPass(async()=>{try{let a=await tse.postgresMd5PasswordHash(this.user,this.password,t.salt);this.connection.password(a)}catch(a){this.emit("error",a)}})}_handleAuthSASL(t){this._checkPgPass(()=>{try{this.saslSession=dk.startSession(t.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(a){this.connection.emit("error",a)}})}async _handleAuthSASLContinue(t){try{await dk.continueSession(this.saslSession,this.password,t.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(a){this.connection.emit("error",a)}}_handleAuthSASLFinal(t){try{dk.finalizeSession(this.saslSession,t.data),this.saslSession=null}catch(a){this.connection.emit("error",a)}}_handleBackendKeyData(t){this.processID=t.processID,this.secretKey=t.secretKey}_handleReadyForQuery(t){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:a}=this;this.activeQuery=null,this.readyForQuery=!0,a&&a.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(t){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(t);this.emit("error",t)}}_handleErrorEvent(t){if(this._connecting)return this._handleErrorWhileConnecting(t);this._queryable=!1,this._errorAllQueries(t),this.emit("error",t)}_handleErrorMessage(t){if(this._connecting)return this._handleErrorWhileConnecting(t);let a=this.activeQuery;if(!a){this._handleErrorEvent(t);return}this.activeQuery=null,a.handleError(t,this.connection)}_handleRowDescription(t){this.activeQuery.handleRowDescription(t)}_handleDataRow(t){this.activeQuery.handleDataRow(t)}_handlePortalSuspended(t){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(t){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(t){if(this.activeQuery==null){let a=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(a);return}this.activeQuery.handleCommandComplete(t,this.connection)}_handleParseComplete(){if(this.activeQuery==null){let t=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(t);return}this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(t){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(t){this.activeQuery.handleCopyData(t,this.connection)}_handleNotification(t){this.emit("notification",t)}_handleNotice(t){this.emit("notice",t)}getStartupConf(){let t=this.connectionParameters,a={user:t.user,database:t.database},i=t.application_name||t.fallback_application_name;return i&&(a.application_name=i),t.replication&&(a.replication=""+t.replication),t.statement_timeout&&(a.statement_timeout=String(parseInt(t.statement_timeout,10))),t.lock_timeout&&(a.lock_timeout=String(parseInt(t.lock_timeout,10))),t.idle_in_transaction_session_timeout&&(a.idle_in_transaction_session_timeout=String(parseInt(t.idle_in_transaction_session_timeout,10))),t.options&&(a.options=t.options),a}cancel(t,a){if(t.activeQuery===a){let i=this.connection;this.host&&this.host.indexOf("/")===0?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){i.cancel(t.processID,t.secretKey)})}else t.queryQueue.indexOf(a)!==-1&&t.queryQueue.splice(t.queryQueue.indexOf(a),1)}setTypeParser(t,a,i){return this._types.setTypeParser(t,a,i)}getTypeParser(t,a){return this._types.getTypeParser(t,a)}escapeIdentifier(t){return RF.escapeIdentifier(t)}escapeLiteral(t){return RF.escapeLiteral(t)}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let t=this.activeQuery.submit(this.connection);t&&process.nextTick(()=>{this.activeQuery.handleError(t,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(t,a,i){let n,r,s,o,c;if(t==null)throw new TypeError("Client was passed a null or undefined query");return typeof t.submit=="function"?(s=t.query_timeout||this.connectionParameters.query_timeout,r=n=t,typeof a=="function"&&(n.callback=n.callback||a)):(s=t.query_timeout||this.connectionParameters.query_timeout,n=new MF(t,a,i),n.callback||(r=new this._Promise((l,u)=>{n.callback=(p,f)=>p?u(p):l(f)}).catch(l=>{throw Error.captureStackTrace(l),l}))),s&&(c=n.callback,o=setTimeout(()=>{let l=new Error("Query read timeout");process.nextTick(()=>{n.handleError(l,this.connection)}),c(l),n.callback=()=>{};let u=this.queryQueue.indexOf(n);u>-1&&this.queryQueue.splice(u,1),this._pulseQueryQueue()},s),n.callback=(l,u)=>{clearTimeout(o),c(l,u)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"),this.connection)}),r):(this.queryQueue.push(n),this._pulseQueryQueue(),r):(process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),r)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(t){if(this._ending=!0,!this.connection._connecting||this._ended)if(t)t();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),t)this.connection.once("end",t);else return new this._Promise(a=>{this.connection.once("end",a)})}};Zh.Query=MF;NF.exports=Zh});var VF=x((STe,HF)=>{"use strict";var ase=require("events").EventEmitter,UF=function(){},$F=(e,t)=>{let a=e.findIndex(t);return a===-1?void 0:e.splice(a,1)[0]},mk=class{constructor(t,a,i){this.client=t,this.idleListener=a,this.timeoutId=i}},Du=class{constructor(t){this.callback=t}};function ise(){throw new Error("Release called on client which has already been released to the pool.")}function Yh(e,t){if(t)return{callback:t,result:void 0};let a,i,n=function(s,o){s?a(s):i(o)},r=new e(function(s,o){i=s,a=o}).catch(s=>{throw Error.captureStackTrace(s),s});return{callback:n,result:r}}function nse(e,t){return function a(i){i.client=t,t.removeListener("error",a),t.on("error",()=>{e.log("additional client error after disconnection due to error",i)}),e._remove(t),e.emit("error",i,t)}}var hk=class extends ase{constructor(t,a){super(),this.options=Object.assign({},t),t!=null&&"password"in t&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),t!=null&&t.ssl&&t.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||a||gk().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(a=>{this._remove(a.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let t=this._pendingQueue.shift();if(this._idle.length){let a=this._idle.pop();clearTimeout(a.timeoutId);let i=a.client;i.ref&&i.ref();let n=a.idleListener;return this._acquireClient(i,t,n,!1)}if(!this._isFull())return this.newClient(t);throw new Error("unexpected condition")}_remove(t,a){let i=$F(this._idle,r=>r.client===t);i!==void 0&&clearTimeout(i.timeoutId),this._clients=this._clients.filter(r=>r!==t);let n=this;t.end(()=>{n.emit("remove",t),typeof a=="function"&&a()})}connect(t){if(this.ending){let n=new Error("Cannot use a pool after calling end on the pool");return t?t(n):this.Promise.reject(n)}let a=Yh(this.Promise,t),i=a.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new Du(a.callback)),i;let n=(o,c,l)=>{clearTimeout(s),a.callback(o,c,l)},r=new Du(n),s=setTimeout(()=>{$F(this._pendingQueue,o=>o.callback===n),r.timedOut=!0,a.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return s.unref&&s.unref(),this._pendingQueue.push(r),i}return this.newClient(new Du(a.callback)),i}newClient(t){let a=new this.Client(this.options);this._clients.push(a);let i=nse(this,a);this.log("checking client timeout");let n,r=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),r=!0,a.connection?a.connection.stream.destroy():a.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),a.connect(s=>{if(n&&clearTimeout(n),a.on("error",i),s)this.log("client failed to connect",s),this._clients=this._clients.filter(o=>o!==a),r&&(s=new Error("Connection terminated due to connection timeout",{cause:s})),this._pulseQueue(),t.timedOut||t.callback(s,void 0,UF);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let o=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(a),this._idle.findIndex(l=>l.client===a)!==-1&&this._acquireClient(a,new Du((l,u,p)=>p()),i,!1)},this.options.maxLifetimeSeconds*1e3);o.unref(),a.once("end",()=>clearTimeout(o))}return this._acquireClient(a,t,i,!0)}})}_acquireClient(t,a,i,n){n&&this.emit("connect",t),this.emit("acquire",t),t.release=this._releaseOnce(t,i),t.removeListener("error",i),a.timedOut?n&&this.options.verify?this.options.verify(t,t.release):t.release():n&&this.options.verify?this.options.verify(t,r=>{if(r)return t.release(r),a.callback(r,void 0,UF);a.callback(void 0,t,t.release)}):a.callback(void 0,t,t.release)}_releaseOnce(t,a){let i=!1;return n=>{i&&ise(),i=!0,this._release(t,a,n)}}_release(t,a,i){if(t.on("error",a),t._poolUseCount=(t._poolUseCount||0)+1,this.emit("release",i,t),i||this.ending||!t._queryable||t._ending||t._poolUseCount>=this.options.maxUses)return t._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(t,this._pulseQueue.bind(this));if(this._expired.has(t))return this.log("remove expired client"),this._expired.delete(t),this._remove(t,this._pulseQueue.bind(this));let r;this.options.idleTimeoutMillis&&this._isAboveMin()&&(r=setTimeout(()=>{this.log("remove idle client"),this._remove(t,this._pulseQueue.bind(this))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&r.unref()),this.options.allowExitOnIdle&&t.unref(),this._idle.push(new mk(t,a,r)),this._pulseQueue()}query(t,a,i){if(typeof t=="function"){let r=Yh(this.Promise,t);return setImmediate(function(){return r.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),r.result}typeof a=="function"&&(i=a,a=void 0);let n=Yh(this.Promise,i);return i=n.callback,this.connect((r,s)=>{if(r)return i(r);let o=!1,c=l=>{o||(o=!0,s.release(l),i(l))};s.once("error",c),this.log("dispatching query");try{s.query(t,a,(l,u)=>{if(this.log("query dispatched"),s.removeListener("error",c),!o)return o=!0,s.release(l),l?i(l):i(void 0,u)})}catch(l){return s.release(l),i(l)}}),n.result}end(t){if(this.log("ending"),this.ending){let i=new Error("Called end on pool more than once");return t?t(i):this.Promise.reject(i)}this.ending=!0;let a=Yh(this.Promise,t);return this._endCallback=a.callback,this._pulseQueue(),a.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((t,a)=>t+(this._expired.has(a)?1:0),0)}get totalCount(){return this._clients.length}};HF.exports=hk});var WF=x((CTe,QF)=>{"use strict";var KF=require("events").EventEmitter,rse=require("util"),vk=Fu(),Ru=QF.exports=function(e,t,a){KF.call(this),e=vk.normalizeQueryConfig(e,t,a),this.text=e.text,this.values=e.values,this.name=e.name,this.queryMode=e.queryMode,this.callback=e.callback,this.state="new",this._arrayMode=e.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(i){i==="row"&&(this._emitRowEvents=!0)}.bind(this))};rse.inherits(Ru,KF);var sse={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};Ru.prototype.handleError=function(e){let t=this.native.pq.resultErrorFields();if(t)for(let a in t){let i=sse[a]||a;e[i]=t[a]}this.callback?this.callback(e):this.emit("error",e),this.state="error"};Ru.prototype.then=function(e,t){return this._getPromise().then(e,t)};Ru.prototype.catch=function(e){return this._getPromise().catch(e)};Ru.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this)),this._promise)};Ru.prototype.submit=function(e){this.state="running";let t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;let a=function(i,n,r){if(e.native.arrayMode=!1,setImmediate(function(){t.emit("_done")}),i)return t.handleError(i);t._emitRowEvents&&(r.length>1?n.forEach((s,o)=>{s.forEach(c=>{t.emit("row",c,r[o])})}):n.forEach(function(s){t.emit("row",s,r)})),t.state="end",t.emit("end",r),t.callback&&t.callback(null,r)};if(process.domain&&(a=process.domain.bind(a)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let i=(this.values||[]).map(vk.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let n=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return a(n)}return e.native.execute(this.name,i,a)}return e.native.prepare(this.name,this.text,i.length,function(n){return n?a(n):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,i,a))})}else if(this.values){if(!Array.isArray(this.values)){let n=new Error("Query values must be an array");return a(n)}let i=this.values.map(vk.prepareValue);e.native.query(this.text,i,a)}else this.queryMode==="extended"?e.native.query(this.text,[],a):e.native.query(this.text,a)}});var JF=x((ETe,XF)=>{"use strict";var GF;try{GF=require("pg-native")}catch(e){throw e}var ose=Lh(),ZF=require("events").EventEmitter,cse=require("util"),use=Iw(),YF=WF(),rn=XF.exports=function(e){ZF.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new ose(e.types),this.native=new GF({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let t=this.connectionParameters=new use(e);e.nativeConnectionString&&(t.nativeConnectionString=e.nativeConnectionString),this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};rn.Query=YF;cse.inherits(rn,ZF);rn.prototype._errorAllQueries=function(e){let t=a=>{process.nextTick(()=>{a.native=this.native,a.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0};rn.prototype._connect=function(e){let t=this;if(this._connecting){process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(a,i){if(t.connectionParameters.nativeConnectionString&&(i=t.connectionParameters.nativeConnectionString),a)return e(a);t.native.connect(i,function(n){if(n)return t.native.end(),e(n);t._connected=!0,t.native.on("error",function(r){t._queryable=!1,t._errorAllQueries(r),t.emit("error",r)}),t.native.on("notification",function(r){t.emit("notification",{channel:r.relname,payload:r.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})};rn.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((t,a)=>{this._connect(i=>{i?a(i):t()})})};rn.prototype.query=function(e,t,a){let i,n,r,s,o;if(e==null)throw new TypeError("Client was passed a null or undefined query");if(typeof e.submit=="function")r=e.query_timeout||this.connectionParameters.query_timeout,n=i=e,typeof t=="function"&&(e.callback=t);else if(r=e.query_timeout||this.connectionParameters.query_timeout,i=new YF(e,t,a),!i.callback){let c,l;n=new this._Promise((u,p)=>{c=u,l=p}).catch(u=>{throw Error.captureStackTrace(u),u}),i.callback=(u,p)=>u?l(u):c(p)}return r&&(o=i.callback,s=setTimeout(()=>{let c=new Error("Query read timeout");process.nextTick(()=>{i.handleError(c,this.connection)}),o(c),i.callback=()=>{};let l=this._queryQueue.indexOf(i);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},r),i.callback=(c,l)=>{clearTimeout(s),o(c,l)}),this._queryable?this._ending?(i.native=this.native,process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"))}),n):(this._queryQueue.push(i),this._pulseQueryQueue(),n):(i.native=this.native,process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"))}),n)};rn.prototype.end=function(e){let t=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e));let a;return e||(a=new this._Promise(function(i,n){e=r=>r?n(r):i()})),this.native.end(function(){t._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{t.emit("end"),e&&e()})}),a};rn.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};rn.prototype._pulseQueryQueue=function(e){if(!this._connected||this._hasActiveQuery())return;let t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);let a=this;t.once("_done",function(){a._pulseQueryQueue()})};rn.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):this._queryQueue.indexOf(e)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)};rn.prototype.ref=function(){};rn.prototype.unref=function(){};rn.prototype.setTypeParser=function(e,t,a){return this._types.setTypeParser(e,t,a)};rn.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}});var xk=x((qTe,e9)=>{"use strict";e9.exports=JF()});var gk=x((ATe,sf)=>{"use strict";var lse=LF(),pse=af(),fse=uk(),dse=Dw(),mse=Fu(),hse=VF(),gse=Lh(),{DatabaseError:vse}=sk(),{escapeIdentifier:xse,escapeLiteral:bse}=Fu(),yse=e=>class extends hse{constructor(a){super(a,e)}},bk=function(e){this.defaults=pse,this.Client=e,this.Query=this.Client.Query,this.Pool=yse(this.Client),this._pools=[],this.Connection=fse,this.types=tf(),this.DatabaseError=vse,this.TypeOverrides=gse,this.escapeIdentifier=xse,this.escapeLiteral=bse,this.Result=dse,this.utils=mse};typeof process.env.NODE_PG_FORCE_NATIVE<"u"?sf.exports=new bk(xk()):(sf.exports=new bk(lse),Object.defineProperty(sf.exports,"native",{configurable:!0,enumerable:!1,get(){let e=null;try{e=new bk(xk())}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t}return Object.defineProperty(sf.exports,"native",{value:e}),e}}))});var xg=x(k9=>{var ece=require("util");k9.deprecate=e=>ece.deprecate(()=>{},e,"node-telegram-bot-api")()});var Pk=x((w9e,j9)=>{"use strict";var _9=Object.prototype.toString;j9.exports=function(t){var a=_9.call(t),i=a==="[object Arguments]";return i||(i=a!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&_9.call(t.callee)==="[object Function]"),i}});var P9=x((k9e,z9)=>{"use strict";var F9;Object.keys||(gf=Object.prototype.hasOwnProperty,Ok=Object.prototype.toString,S9=Pk(),Ik=Object.prototype.propertyIsEnumerable,C9=!Ik.call({toString:null},"toString"),E9=Ik.call(function(){},"prototype"),vf=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],bg=function(e){var t=e.constructor;return t&&t.prototype===e},q9={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},T9=(function(){if(typeof window>"u")return!1;for(var e in window)try{if(!q9["$"+e]&&gf.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{bg(window[e])}catch{return!0}}catch{return!0}return!1})(),A9=function(e){if(typeof window>"u"||!T9)return bg(e);try{return bg(e)}catch{return!1}},F9=function(t){var a=t!==null&&typeof t=="object",i=Ok.call(t)==="[object Function]",n=S9(t),r=a&&Ok.call(t)==="[object String]",s=[];if(!a&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var o=E9&&i;if(r&&t.length>0&&!gf.call(t,0))for(var c=0;c<t.length;++c)s.push(String(c));if(n&&t.length>0)for(var l=0;l<t.length;++l)s.push(String(l));else for(var u in t)!(o&&u==="prototype")&&gf.call(t,u)&&s.push(String(u));if(C9)for(var p=A9(t),f=0;f<vf.length;++f)!(p&&vf[f]==="constructor")&&gf.call(t,vf[f])&&s.push(vf[f]);return s});var gf,Ok,S9,Ik,C9,E9,vf,bg,q9,T9,A9;z9.exports=F9});var D9=x((_9e,B9)=>{"use strict";var tce=Array.prototype.slice,ace=Pk(),O9=Object.keys,yg=O9?function(t){return O9(t)}:P9(),I9=Object.keys;yg.shim=function(){if(Object.keys){var t=(function(){var a=Object.keys(arguments);return a&&a.length===arguments.length})(1,2);t||(Object.keys=function(i){return ace(i)?I9(tce.call(i)):I9(i)})}else Object.keys=yg;return Object.keys||yg};B9.exports=yg});var wg=x((j9e,N9)=>{"use strict";var R9=bp(),ice=_b(),Xu=$a(),M9=gu();N9.exports=function(t,a,i){if(!t||typeof t!="object"&&typeof t!="function")throw new Xu("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new Xu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Xu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Xu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Xu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Xu("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,c=!!M9&&M9(t,a);if(R9)R9(t,a,{configurable:s===null&&c?c.configurable:!s,enumerable:n===null&&c?c.enumerable:!n,value:i,writable:r===null&&c?c.writable:!r});else if(o||!n&&!r&&!s)t[a]=i;else throw new ice("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var kg=x((S9e,U9)=>{"use strict";var Bk=bp(),L9=function(){return!!Bk};L9.hasArrayLengthDefineBug=function(){if(!Bk)return null;try{return Bk([],"length",{value:1}).length!==1}catch{return!0}};U9.exports=L9});var _g=x((C9e,K9)=>{"use strict";var nce=D9(),rce=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",sce=Object.prototype.toString,oce=Array.prototype.concat,$9=wg(),cce=function(e){return typeof e=="function"&&sce.call(e)==="[object Function]"},H9=kg()(),uce=function(e,t,a,i){if(t in e){if(i===!0){if(e[t]===a)return}else if(!cce(i)||!i())return}H9?$9(e,t,a,!0):$9(e,t,a)},V9=function(e,t){var a=arguments.length>2?arguments[2]:{},i=nce(t);rce&&(i=oce.call(i,Object.getOwnPropertySymbols(t)));for(var n=0;n<i.length;n+=1)uce(e,i[n],t[i[n]],a[i[n]])};V9.supportsDescriptors=!!H9;K9.exports=V9});var xf=x((E9e,Q9)=>{"use strict";var lce=$a();Q9.exports=function(t){if(t==null)throw new lce(arguments.length>0&&arguments[1]||"Cannot call method on "+t);return t}});var X9=x((q9e,Y9)=>{"use strict";var pce=nr(),W9=wg(),fce=kg()(),G9=gu(),Z9=$a(),dce=pce("%Math.floor%");Y9.exports=function(t,a){if(typeof t!="function")throw new Z9("`fn` is not a function");if(typeof a!="number"||a<0||a>4294967295||dce(a)!==a)throw new Z9("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,r=!0;if("length"in t&&G9){var s=G9(t,"length");s&&!s.configurable&&(n=!1),s&&!s.writable&&(r=!1)}return(n||r||!i)&&(fce?W9(t,"length",a,!0,!0):W9(t,"length",a)),t}});var ez=x((T9e,J9)=>{"use strict";var mce=vu(),hce=zm(),gce=Tb();J9.exports=function(){return gce(mce,hce,arguments)}});var Dk=x((A9e,jg)=>{"use strict";var vce=X9(),tz=bp(),xce=Pm(),az=ez();jg.exports=function(t){var a=xce(arguments),i=t.length-(arguments.length-1);return vce(a,1+(i>0?i:0),!0)};tz?tz(jg.exports,"apply",{value:az}):jg.exports.apply=az});var rz=x((F9e,nz)=>{"use strict";var bce=nr(),iz=bce("%Array%"),yce=!iz.isArray&&zn()("Object.prototype.toString");nz.exports=iz.isArray||function(t){return yce(t)==="[object Array]"}});var oz=x((z9e,sz)=>{"use strict";sz.exports=rz()});var uz=x((P9e,cz)=>{"use strict";var wce=nr(),kce=zn(),_ce=$a(),jce=oz(),Sce=wce("%Reflect.apply%",!0)||kce("Function.prototype.apply");cz.exports=function(t,a){var i=arguments.length>2?arguments[2]:[];if(!jce(i))throw new _ce("Assertion failed: optional `argumentsList`, if provided, must be a List");return Sce(t,a,i)}});var pz=x((O9e,lz)=>{"use strict";lz.exports=function(t){return typeof t=="string"||typeof t=="symbol"}});var Rk=x((I9e,fz)=>{"use strict";fz.exports=function(t){return!!t&&(typeof t=="function"||typeof t=="object")}});var Mk=x((B9e,mz)=>{"use strict";var dz=$a(),Cce=hu(),Ece=pz(),qce=Rk();mz.exports=function(t,a){if(!qce(t))throw new dz("Assertion failed: Type(O) is not Object");if(!Ece(a))throw new dz("Assertion failed: P is not a Property Key, got "+Cce(a));return t[a]}});var Hk=x((D9e,vz)=>{"use strict";var gz=Function.prototype.toString,Ju=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Lk,Sg;if(typeof Ju=="function"&&typeof Object.defineProperty=="function")try{Lk=Object.defineProperty({},"length",{get:function(){throw Sg}}),Sg={},Ju(function(){throw 42},null,Lk)}catch(e){e!==Sg&&(Ju=null)}else Ju=null;var Tce=/^\s*class\b/,Uk=function(t){try{var a=gz.call(t);return Tce.test(a)}catch{return!1}},Nk=function(t){try{return Uk(t)?!1:(gz.call(t),!0)}catch{return!1}},Cg=Object.prototype.toString,Ace="[object Object]",Fce="[object Function]",zce="[object GeneratorFunction]",Pce="[object HTMLAllCollection]",Oce="[object HTML document.all class]",Ice="[object HTMLCollection]",Bce=typeof Symbol=="function"&&!!Symbol.toStringTag,Dce=!(0 in[,]),$k=function(){return!1};typeof document=="object"&&(hz=document.all,Cg.call(hz)===Cg.call(document.all)&&($k=function(t){if((Dce||!t)&&(typeof t>"u"||typeof t=="object"))try{var a=Cg.call(t);return(a===Pce||a===Oce||a===Ice||a===Ace)&&t("")==null}catch{}return!1}));var hz;vz.exports=Ju?function(t){if($k(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Ju(t,null,Lk)}catch(a){if(a!==Sg)return!1}return!Uk(t)&&Nk(t)}:function(t){if($k(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Bce)return Nk(t);if(Uk(t))return!1;var a=Cg.call(t);return a!==Fce&&a!==zce&&!/^\[object HTML/.test(a)?!1:Nk(t)}});var bz=x((R9e,xz)=>{"use strict";xz.exports=Hk()});var wz=x((M9e,yz)=>{"use strict";yz.exports=Number.MAX_SAFE_INTEGER||9007199254740991});var _z=x((N9e,kz)=>{"use strict";kz.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}});var Sz=x((L9e,jz)=>{"use strict";jz.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}});var Eg=x((U9e,Cz)=>{"use strict";var Rce=Sb();Cz.exports=function(){return Rce()&&!!Symbol.toStringTag}});var Tz=x(($9e,qz)=>{"use strict";var Ez=zn(),Mce=Ez("Date.prototype.getDay"),Nce=function(t){try{return Mce(t),!0}catch{return!1}},Lce=Ez("Object.prototype.toString"),Uce="[object Date]",$ce=Eg()();qz.exports=function(t){return typeof t!="object"||t===null?!1:$ce?Nce(t):Lce(t)===Uce}});var Iz=x((H9e,Oz)=>{"use strict";var Az=zn(),Hce=Eg()(),Vce=xu(),Kce=gu(),Qk;Hce?(Fz=Az("RegExp.prototype.exec"),Vk={},qg=function(){throw Vk},Kk={toString:qg,valueOf:qg},typeof Symbol.toPrimitive=="symbol"&&(Kk[Symbol.toPrimitive]=qg),Qk=function(t){if(!t||typeof t!="object")return!1;var a=Kce(t,"lastIndex"),i=a&&Vce(a,"value");if(!i)return!1;try{Fz(t,Kk)}catch(n){return n===Vk}}):(zz=Az("Object.prototype.toString"),Pz="[object RegExp]",Qk=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:zz(t)===Pz});var Fz,Vk,qg,Kk,zz,Pz;Oz.exports=Qk});var Wk=x((V9e,Bz)=>{"use strict";var Qce=zn(),Wce=Iz(),Gce=Qce("RegExp.prototype.exec"),Zce=$a();Bz.exports=function(t){if(!Wce(t))throw new Zce("`regex` must be a RegExp");return function(i){return Gce(t,i)!==null}}});var Lz=x((K9e,Gk)=>{"use strict";var Nz=zn(),Yce=Nz("Object.prototype.toString"),Xce=Cb()(),Jce=Wk();Xce?(Dz=Nz("Symbol.prototype.toString"),Rz=Jce(/^Symbol\(.*\)$/),Mz=function(t){return typeof t.valueOf()!="symbol"?!1:Rz(Dz(t))},Gk.exports=function(t){if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||Yce(t)!=="[object Symbol]")return!1;try{return Mz(t)}catch{return!1}}):Gk.exports=function(t){return!1};var Dz,Rz,Mz});var Vz=x((Q9e,Hz)=>{"use strict";var eue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Zk=Sz(),$z=Hk(),tue=Tz(),Uz=Lz(),aue=function(t,a){if(typeof t>"u"||t===null)throw new TypeError("Cannot call method on "+t);if(typeof a!="string"||a!=="number"&&a!=="string")throw new TypeError('hint must be "string" or "number"');var i=a==="string"?["toString","valueOf"]:["valueOf","toString"],n,r,s;for(s=0;s<i.length;++s)if(n=t[i[s]],$z(n)&&(r=n.call(t),Zk(r)))return r;throw new TypeError("No default value")},iue=function(t,a){var i=t[a];if(i!==null&&typeof i<"u"){if(!$z(i))throw new TypeError(i+" returned for property "+String(a)+" of object "+t+" is not a function");return i}};Hz.exports=function(t){if(Zk(t))return t;var a="default";arguments.length>1&&(arguments[1]===String?a="string":arguments[1]===Number&&(a="number"));var i;if(eue&&(Symbol.toPrimitive?i=iue(t,Symbol.toPrimitive):Uz(t)&&(i=Symbol.prototype.valueOf)),typeof i<"u"){var n=i.call(t,a);if(Zk(n))return n;throw new TypeError("unable to convert exotic object to primitive")}return a==="default"&&(tue(t)||Uz(t))&&(a="string"),aue(t,a==="default"?"number":a)}});var Wz=x((W9e,Qz)=>{"use strict";var Kz=Vz();Qz.exports=function(t){return arguments.length>1?Kz(t,arguments[1]):Kz(t)}});var Yk=x((G9e,Gz)=>{"use strict";var nue=nr(),rue=nue("%String%"),sue=$a();Gz.exports=function(t){if(typeof t=="symbol")throw new sue("Cannot convert a Symbol value to a string");return rue(t)}});var Xk=x((Z9e,Xz)=>{"use strict";var oue=xf(),cue=Yk(),uue=zn(),Zz=uue("String.prototype.replace"),Yz=/^\s$/.test("\u180E"),lue=Yz?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,pue=Yz?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;Xz.exports=function(){var t=cue(oue(this));return Zz(Zz(t,lue,""),pue,"")}});var Jk=x((Y9e,eP)=>{"use strict";var fue=Xk(),Jz="\u200B",el="\u180E";eP.exports=function(){return String.prototype.trim&&Jz.trim()===Jz&&el.trim()===el&&("_"+el).trim()==="_"+el&&(el+"_").trim()===el+"_"?String.prototype.trim:fue}});var iP=x((X9e,aP)=>{"use strict";var due=kg()(),tP=wg(),mue=Jk();aP.exports=function(){var t=mue();return String.prototype.trim!==t&&(due?tP(String.prototype,"trim",t,!0):tP(String.prototype,"trim",t)),t}});var oP=x((J9e,sP)=>{"use strict";var hue=Dk(),gue=_g(),vue=xf(),xue=Xk(),nP=Jk(),bue=iP(),yue=hue(nP()),rP=function(t){return vue(t),yue(t)};gue(rP,{getPolyfill:nP,implementation:xue,shim:bue});sP.exports=rP});var fP=x((eze,pP)=>{"use strict";var lP=nr(),wue=lP("%RegExp%"),kue=$a(),cP=lP("%parseInt%"),_ue=zn(),Tg=Wk(),uP=_ue("String.prototype.slice"),jue=Tg(/^0b[01]+$/i),Sue=Tg(/^0o[0-7]+$/i),Cue=Tg(/^[-+]0x[0-9a-f]+$/i),Eue=["\x85","\u200B","\uFFFE"].join(""),que=new wue("["+Eue+"]","g"),Tue=Tg(que),Aue=oP();pP.exports=function e(t){if(typeof t!="string")throw new kue("Assertion failed: `argument` is not a String");if(jue(t))return+cP(uP(t,2),2);if(Sue(t))return+cP(uP(t,2),8);if(Tue(t)||Cue(t))return NaN;var a=Aue(t);return a!==t?e(a):+t}});var hP=x((tze,mP)=>{"use strict";var Fue=nr(),dP=$a(),zue=Fue("%Number%"),Pue=_z(),Oue=Wz(),Iue=fP();mP.exports=function(t){var a=Pue(t)?t:Oue(t,zue);if(typeof a=="symbol")throw new dP("Cannot convert a Symbol value to a number");if(typeof a=="bigint")throw new dP("Conversion from 'BigInt' to 'number' is not allowed.");return typeof a=="string"?Iue(a):+a}});var vP=x((aze,gP)=>{"use strict";var Bue=jb();gP.exports=function(t){return typeof t=="bigint"?t:Bue(t)}});var yP=x((ize,bP)=>{"use strict";var xP=vP(),Due=$a();bP.exports=function(t){if(typeof t!="number"&&typeof t!="bigint")throw new Due("argument must be a Number or a BigInt");var a=t<0?-xP(-t):xP(t);return a===0?0:a}});var kP=x((nze,wP)=>{"use strict";var Rue=qm();wP.exports=function(t){return(typeof t=="number"||typeof t=="bigint")&&!Rue(t)&&t!==1/0&&t!==-1/0}});var jP=x((rze,_P)=>{"use strict";var Mue=hP(),Nue=yP(),Lue=qm(),Uue=kP();_P.exports=function(t){var a=Mue(t);return Lue(a)||a===0?0:Uue(a)?Nue(a):a}});var EP=x((sze,CP)=>{"use strict";var SP=wz(),$ue=jP();CP.exports=function(t){var a=$ue(t);return a<=0?0:a>SP?SP:a}});var TP=x((oze,qP)=>{"use strict";var Hue=$a(),Vue=Rk(),Kue=Mk(),Que=EP();qP.exports=function(t){if(!Vue(t))throw new Hue("Assertion failed: `obj` must be an Object");return Que(Kue(t,"length"))}});var FP=x((cze,AP)=>{"use strict";AP.exports=function(t){return!!t}});var PP=x((uze,zP)=>{"use strict";var Wue=Em(),Gue=xf();zP.exports=function(t){return Gue(t),Wue(t)}});var e_=x((lze,OP)=>{"use strict";var Zue=uz(),Yue=Mk(),Xue=bz(),Jue=TP(),ele=FP(),tle=PP(),ale=Yk();OP.exports=function(t){var a=tle(this),i=Jue(a);if(!Xue(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var n=arguments.length>1?arguments[1]:void 0,r=0;r<i;){var s=ale(r),o=Yue(a,s),c=ele(Zue(t,n,[o,r,a]));if(c)return r;r+=1}return-1}});var t_=x((pze,IP)=>{"use strict";var ile=e_();IP.exports=function(){var t=Array.prototype.findIndex&&[,1].findIndex(function(a,i){return i===0})===0;return t?Array.prototype.findIndex:ile}});var NP=x((fze,MP)=>{"use strict";var nle=xu(),RP=typeof Symbol=="function"&&typeof Symbol.unscopables=="symbol",BP=RP&&Array.prototype[Symbol.unscopables],DP=TypeError;MP.exports=function(t){if(typeof t!="string"||!t)throw new DP("method must be a non-empty string");if(!nle(Array.prototype,t))throw new DP("method must be on Array.prototype");RP&&BP&&(BP[t]=!0)}});var UP=x((dze,LP)=>{"use strict";var rle=_g(),sle=NP(),ole=t_();LP.exports=function(){var t=ole();return rle(Array.prototype,{findIndex:t},{findIndex:function(){return Array.prototype.findIndex!==t}}),sle("findIndex"),t}});var a_=x((mze,VP)=>{"use strict";var cle=_g(),ule=xf(),lle=Dk(),ple=zn(),fle=e_(),$P=t_(),dle=UP(),mle=ple("Array.prototype.slice"),hle=lle.apply($P()),HP=function(t,a){ule(t);var i=mle(arguments,1);return hle(t,i)};cle(HP,{getPolyfill:$P,implementation:fle,shim:dle});VP.exports=HP});var Pg=x(fo=>{"use strict";var gle=(function(){function e(t,a){for(var i=0;i<a.length;i++){var n=a[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}})();function Ag(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}fo.BaseError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a+": "+i));return n.code=a,n}return gle(t,[{key:"toJSON",value:function(){return{code:this.code,message:this.message}}}]),t})(Error);fo.FatalError=(function(e){zg(t,e);function t(a){Ag(this,t);var i=typeof a=="string"?null:a,n=i?i.message:a,r=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"EFATAL",n));return i&&(r.stack=i.stack,r.cause=i),r}return t})(fo.BaseError);fo.ParseError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"EPARSE",a));return n.response=i,n}return t})(fo.BaseError);fo.TelegramError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ETELEGRAM",a));return n.response=i,n}return t})(fo.BaseError)});var i_=x((gze,KP)=>{"use strict";function vle(e){a.debug=a,a.default=a,a.coerce=c,a.disable=s,a.enable=r,a.enabled=o,a.humanize=Zs(),Object.keys(e).forEach(function(l){a[l]=e[l]}),a.instances=[],a.names=[],a.skips=[],a.formatters={};function t(l){for(var u=0,p=0;p<l.length;p++)u=(u<<5)-u+l.charCodeAt(p),u|=0;return a.colors[Math.abs(u)%a.colors.length]}a.selectColor=t;function a(l){var u;function p(){if(p.enabled){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];var g=p,v=Number(new Date),k=v-(u||v);g.diff=k,g.prev=u,g.curr=v,u=v,d[0]=a.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");var E=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(A,$){if(A==="%%")return A;E++;var D=a.formatters[$];if(typeof D=="function"){var z=d[E];A=D.call(g,z),d.splice(E,1),E--}return A}),a.formatArgs.call(g,d);var T=g.log||a.log;T.apply(g,d)}}return p.namespace=l,p.enabled=a.enabled(l),p.useColors=a.useColors(),p.color=t(l),p.destroy=i,p.extend=n,typeof a.init=="function"&&a.init(p),a.instances.push(p),p}function i(){var l=a.instances.indexOf(this);return l!==-1?(a.instances.splice(l,1),!0):!1}function n(l,u){return a(this.namespace+(typeof u>"u"?":":u)+l)}function r(l){a.save(l),a.names=[],a.skips=[];var u,p=(typeof l=="string"?l:"").split(/[\s,]+/),f=p.length;for(u=0;u<f;u++)p[u]&&(l=p[u].replace(/\*/g,".*?"),l[0]==="-"?a.skips.push(new RegExp("^"+l.substr(1)+"$")):a.names.push(new RegExp("^"+l+"$")));for(u=0;u<a.instances.length;u++){var d=a.instances[u];d.enabled=a.enabled(d.namespace)}}function s(){a.enable("")}function o(l){if(l[l.length-1]==="*")return!0;var u,p;for(u=0,p=a.skips.length;u<p;u++)if(a.skips[u].test(l))return!1;for(u=0,p=a.names.length;u<p;u++)if(a.names[u].test(l))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}return a.enable(a.load()),a}KP.exports=vle});var QP=x((Ln,Ig)=>{"use strict";function Og(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Og=function(a){return typeof a}:Og=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Og(e)}Ln.log=yle;Ln.formatArgs=ble;Ln.save=wle;Ln.load=kle;Ln.useColors=xle;Ln.storage=_le();Ln.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xle(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ble(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ig.exports.humanize(this.diff),!!this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(n){n!=="%%"&&(a++,n==="%c"&&(i=a))}),e.splice(i,0,t)}}function yle(){var e;return(typeof console>"u"?"undefined":Og(console))==="object"&&console.log&&(e=console).log.apply(e,arguments)}function wle(e){try{e?Ln.storage.setItem("debug",e):Ln.storage.removeItem("debug")}catch{}}function kle(){var e;try{e=Ln.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function _le(){try{return localStorage}catch{}}Ig.exports=i_()(Ln);var jle=Ig.exports.formatters;jle.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var GP=x((Ci,Rg)=>{"use strict";var Sle=require("tty"),Dg=require("util");Ci.init=zle;Ci.log=Tle;Ci.formatArgs=Ele;Ci.save=Ale;Ci.load=Fle;Ci.useColors=Cle;Ci.colors=[6,2,3,4,5,1];try{Bg=require("supports-color"),Bg&&(Bg.stderr||Bg).level>=2&&(Ci.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}var Bg;Ci.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var a=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(n,r){return r.toUpperCase()}),i=process.env[t];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),e[a]=i,e},{});function Cle(){return"colors"in Ci.inspectOpts?!!Ci.inspectOpts.colors:Sle.isatty(process.stderr.fd)}function Ele(e){var t=this.namespace,a=this.useColors;if(a){var i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),r="  ".concat(n,";1m").concat(t," \x1B[0m");e[0]=r+e[0].split(`
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
    at async kK (/app/dist/index.cjs:453:438)
Node.js v18.20.5
    at async /app/dist/index.cjs:465:1952 {
  length: 108,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '22',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
    at async /app/dist/index.cjs:359:31480
  line: '1449',
error: relation "bot_users" does not exist
  routine: 'parserOpenTable'
    at async zk.countBotUsers (/app/dist/index.cjs:359:103728)
    at /app/dist/index.cjs:68:13356
}
    at async qje (/app/dist/index.cjs:447:966)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
npm warn config production Use `--omit=dev` instead.
> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.cjs
9:04:59 PM [bot] Telegram bot started
/app/dist/index.cjs:68
`);rf.write(OF.format.apply(OF,t))}}Object.defineProperty(Ss.exports,"isWin",{get:function(){return Wh},set:function(e){Wh=e}});Ss.exports.warnTo=function(e){var t=rf;return rf=e,t};Ss.exports.getFileName=function(e){var t=e||process.env,a=t.PGPASSFILE||(Wh?PF.join(t.APPDATA||"./","postgresql","pgpass.conf"):PF.join(t.HOME||"./",".pgpass"));return a};Ss.exports.usePgPass=function(e,t){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:Wh?!0:(t=t||"<unkn>",Vre(e.mode)?e.mode&(Lre|Ure)?(pk('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):!0:(pk('WARNING: password file "%s" is not a plain file',t),!1))};var Qre=Ss.exports.match=function(e,t){return Bu.slice(0,-1).reduce(function(a,i,n){return n==1&&Number(e[i]||Nre)===Number(t[i])?a&&!0:a&&(t[i]==="*"||t[i]===e[i])},!0)};Ss.exports.getPassword=function(e,t,a){var i,n=t.pipe(Mre());function r(c){var l=Wre(c);l&&Gre(l)&&Qre(e,l)&&(i=l[Kre],n.end())}var s=function(){t.destroy(),a(i)},o=function(c){t.destroy(),pk("WARNING: error on reading file: %s",c),a(void 0)};t.on("error",o),n.on("data",r).on("end",s).on("error",o)};var Wre=Ss.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",a="",i=0,n=0,r=0,s={},o=!1,c=function(u,p,f){var d=e.substring(p,f);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(d=d.replace(/\\([:\\])/g,"$1")),s[Bu[u]]=d},l=0;l<e.length-1;l+=1){if(t=e.charAt(l+1),a=e.charAt(l),o=i==lk-1,o){c(i,n);break}l>=0&&t==":"&&a!=="\\"&&(c(i,n,l+1),n=l+2,i+=1)}return s=Object.keys(s).length===lk?s:null,s},Gre=Ss.exports.isValidEntry=function(e){for(var t={0:function(s){return s.length>0},1:function(s){return s==="*"?!0:(s=Number(s),isFinite(s)&&s>0&&s<9007199254740992&&Math.floor(s)===s)},2:function(s){return s.length>0},3:function(s){return s.length>0},4:function(s){return s.length>0}},a=0;a<Bu.length;a+=1){var i=t[a],n=e[Bu[a]]||"",r=i(n);if(!r)return!1}return!0}});var DF=x((_Te,fk)=>{"use strict";var kTe=require("path"),BF=require("fs"),Gh=IF();fk.exports=function(e,t){var a=Gh.getFileName();BF.stat(a,function(i,n){if(i||!Gh.usePgPass(n,a))return t(void 0);var r=BF.createReadStream(a);Gh.getPassword(e,r,t)})};fk.exports.warnTo=Gh.warnTo});var LF=x((jTe,NF)=>{"use strict";var Zre=require("events").EventEmitter,RF=Fu(),dk=nF(),Yre=Lh(),Xre=Iw(),MF=vF(),Jre=af(),ese=uk(),tse=zw(),Zh=class extends Zre{constructor(t){super(),this.connectionParameters=new Xre(t),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let a=t||{};this._Promise=a.Promise||global.Promise,this._types=new Yre(a.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.enableChannelBinding=!!a.enableChannelBinding,this.connection=a.connection||new ese({stream:a.stream,ssl:this.connectionParameters.ssl,keepAlive:a.keepAlive||!1,keepAliveInitialDelayMillis:a.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=a.binary||Jre.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=a.connectionTimeoutMillis||0}_errorAllQueries(t){let a=i=>{process.nextTick(()=>{i.handleError(t,this.connection)})};this.activeQuery&&(a(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(a),this.queryQueue.length=0}_connect(t){let a=this,i=this.connection;if(this._connectionCallback=t,this._connecting||this._connected){let n=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{t(n)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{i._ending=!0,i.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){a.ssl?i.requestSsl():i.startup(a.getStartupConf())}),i.on("sslconnect",function(){i.startup(a.getStartupConf())}),this._attachListeners(i),i.once("end",()=>{let n=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(n),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(n):this._handleErrorEvent(n):this._connectionError||this._handleErrorEvent(n)),process.nextTick(()=>{this.emit("end")})})}connect(t){if(t){this._connect(t);return}return new this._Promise((a,i)=>{this._connect(n=>{n?i(n):a()})})}_attachListeners(t){t.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),t.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),t.on("authenticationSASL",this._handleAuthSASL.bind(this)),t.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),t.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),t.on("backendKeyData",this._handleBackendKeyData.bind(this)),t.on("error",this._handleErrorEvent.bind(this)),t.on("errorMessage",this._handleErrorMessage.bind(this)),t.on("readyForQuery",this._handleReadyForQuery.bind(this)),t.on("notice",this._handleNotice.bind(this)),t.on("rowDescription",this._handleRowDescription.bind(this)),t.on("dataRow",this._handleDataRow.bind(this)),t.on("portalSuspended",this._handlePortalSuspended.bind(this)),t.on("emptyQuery",this._handleEmptyQuery.bind(this)),t.on("commandComplete",this._handleCommandComplete.bind(this)),t.on("parseComplete",this._handleParseComplete.bind(this)),t.on("copyInResponse",this._handleCopyInResponse.bind(this)),t.on("copyData",this._handleCopyData.bind(this)),t.on("notification",this._handleNotification.bind(this))}_checkPgPass(t){let a=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(i=>{if(i!==void 0){if(typeof i!="string"){a.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=i}else this.connectionParameters.password=this.password=null;t()}).catch(i=>{a.emit("error",i)});else if(this.password!==null)t();else try{DF()(this.connectionParameters,n=>{n!==void 0&&(this.connectionParameters.password=this.password=n),t()})}catch(i){this.emit("error",i)}}_handleAuthCleartextPassword(t){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(t){this._checkPgPass(async()=>{try{let a=await tse.postgresMd5PasswordHash(this.user,this.password,t.salt);this.connection.password(a)}catch(a){this.emit("error",a)}})}_handleAuthSASL(t){this._checkPgPass(()=>{try{this.saslSession=dk.startSession(t.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(a){this.connection.emit("error",a)}})}async _handleAuthSASLContinue(t){try{await dk.continueSession(this.saslSession,this.password,t.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(a){this.connection.emit("error",a)}}_handleAuthSASLFinal(t){try{dk.finalizeSession(this.saslSession,t.data),this.saslSession=null}catch(a){this.connection.emit("error",a)}}_handleBackendKeyData(t){this.processID=t.processID,this.secretKey=t.secretKey}_handleReadyForQuery(t){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:a}=this;this.activeQuery=null,this.readyForQuery=!0,a&&a.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(t){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(t);this.emit("error",t)}}_handleErrorEvent(t){if(this._connecting)return this._handleErrorWhileConnecting(t);this._queryable=!1,this._errorAllQueries(t),this.emit("error",t)}_handleErrorMessage(t){if(this._connecting)return this._handleErrorWhileConnecting(t);let a=this.activeQuery;if(!a){this._handleErrorEvent(t);return}this.activeQuery=null,a.handleError(t,this.connection)}_handleRowDescription(t){this.activeQuery.handleRowDescription(t)}_handleDataRow(t){this.activeQuery.handleDataRow(t)}_handlePortalSuspended(t){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(t){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(t){if(this.activeQuery==null){let a=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(a);return}this.activeQuery.handleCommandComplete(t,this.connection)}_handleParseComplete(){if(this.activeQuery==null){let t=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(t);return}this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(t){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(t){this.activeQuery.handleCopyData(t,this.connection)}_handleNotification(t){this.emit("notification",t)}_handleNotice(t){this.emit("notice",t)}getStartupConf(){let t=this.connectionParameters,a={user:t.user,database:t.database},i=t.application_name||t.fallback_application_name;return i&&(a.application_name=i),t.replication&&(a.replication=""+t.replication),t.statement_timeout&&(a.statement_timeout=String(parseInt(t.statement_timeout,10))),t.lock_timeout&&(a.lock_timeout=String(parseInt(t.lock_timeout,10))),t.idle_in_transaction_session_timeout&&(a.idle_in_transaction_session_timeout=String(parseInt(t.idle_in_transaction_session_timeout,10))),t.options&&(a.options=t.options),a}cancel(t,a){if(t.activeQuery===a){let i=this.connection;this.host&&this.host.indexOf("/")===0?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){i.cancel(t.processID,t.secretKey)})}else t.queryQueue.indexOf(a)!==-1&&t.queryQueue.splice(t.queryQueue.indexOf(a),1)}setTypeParser(t,a,i){return this._types.setTypeParser(t,a,i)}getTypeParser(t,a){return this._types.getTypeParser(t,a)}escapeIdentifier(t){return RF.escapeIdentifier(t)}escapeLiteral(t){return RF.escapeLiteral(t)}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let t=this.activeQuery.submit(this.connection);t&&process.nextTick(()=>{this.activeQuery.handleError(t,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(t,a,i){let n,r,s,o,c;if(t==null)throw new TypeError("Client was passed a null or undefined query");return typeof t.submit=="function"?(s=t.query_timeout||this.connectionParameters.query_timeout,r=n=t,typeof a=="function"&&(n.callback=n.callback||a)):(s=t.query_timeout||this.connectionParameters.query_timeout,n=new MF(t,a,i),n.callback||(r=new this._Promise((l,u)=>{n.callback=(p,f)=>p?u(p):l(f)}).catch(l=>{throw Error.captureStackTrace(l),l}))),s&&(c=n.callback,o=setTimeout(()=>{let l=new Error("Query read timeout");process.nextTick(()=>{n.handleError(l,this.connection)}),c(l),n.callback=()=>{};let u=this.queryQueue.indexOf(n);u>-1&&this.queryQueue.splice(u,1),this._pulseQueryQueue()},s),n.callback=(l,u)=>{clearTimeout(o),c(l,u)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"),this.connection)}),r):(this.queryQueue.push(n),this._pulseQueryQueue(),r):(process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),r)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(t){if(this._ending=!0,!this.connection._connecting||this._ended)if(t)t();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),t)this.connection.once("end",t);else return new this._Promise(a=>{this.connection.once("end",a)})}};Zh.Query=MF;NF.exports=Zh});var VF=x((STe,HF)=>{"use strict";var ase=require("events").EventEmitter,UF=function(){},$F=(e,t)=>{let a=e.findIndex(t);return a===-1?void 0:e.splice(a,1)[0]},mk=class{constructor(t,a,i){this.client=t,this.idleListener=a,this.timeoutId=i}},Du=class{constructor(t){this.callback=t}};function ise(){throw new Error("Release called on client which has already been released to the pool.")}function Yh(e,t){if(t)return{callback:t,result:void 0};let a,i,n=function(s,o){s?a(s):i(o)},r=new e(function(s,o){i=s,a=o}).catch(s=>{throw Error.captureStackTrace(s),s});return{callback:n,result:r}}function nse(e,t){return function a(i){i.client=t,t.removeListener("error",a),t.on("error",()=>{e.log("additional client error after disconnection due to error",i)}),e._remove(t),e.emit("error",i,t)}}var hk=class extends ase{constructor(t,a){super(),this.options=Object.assign({},t),t!=null&&"password"in t&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),t!=null&&t.ssl&&t.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||a||gk().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(a=>{this._remove(a.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let t=this._pendingQueue.shift();if(this._idle.length){let a=this._idle.pop();clearTimeout(a.timeoutId);let i=a.client;i.ref&&i.ref();let n=a.idleListener;return this._acquireClient(i,t,n,!1)}if(!this._isFull())return this.newClient(t);throw new Error("unexpected condition")}_remove(t,a){let i=$F(this._idle,r=>r.client===t);i!==void 0&&clearTimeout(i.timeoutId),this._clients=this._clients.filter(r=>r!==t);let n=this;t.end(()=>{n.emit("remove",t),typeof a=="function"&&a()})}connect(t){if(this.ending){let n=new Error("Cannot use a pool after calling end on the pool");return t?t(n):this.Promise.reject(n)}let a=Yh(this.Promise,t),i=a.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new Du(a.callback)),i;let n=(o,c,l)=>{clearTimeout(s),a.callback(o,c,l)},r=new Du(n),s=setTimeout(()=>{$F(this._pendingQueue,o=>o.callback===n),r.timedOut=!0,a.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return s.unref&&s.unref(),this._pendingQueue.push(r),i}return this.newClient(new Du(a.callback)),i}newClient(t){let a=new this.Client(this.options);this._clients.push(a);let i=nse(this,a);this.log("checking client timeout");let n,r=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),r=!0,a.connection?a.connection.stream.destroy():a.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),a.connect(s=>{if(n&&clearTimeout(n),a.on("error",i),s)this.log("client failed to connect",s),this._clients=this._clients.filter(o=>o!==a),r&&(s=new Error("Connection terminated due to connection timeout",{cause:s})),this._pulseQueue(),t.timedOut||t.callback(s,void 0,UF);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let o=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(a),this._idle.findIndex(l=>l.client===a)!==-1&&this._acquireClient(a,new Du((l,u,p)=>p()),i,!1)},this.options.maxLifetimeSeconds*1e3);o.unref(),a.once("end",()=>clearTimeout(o))}return this._acquireClient(a,t,i,!0)}})}_acquireClient(t,a,i,n){n&&this.emit("connect",t),this.emit("acquire",t),t.release=this._releaseOnce(t,i),t.removeListener("error",i),a.timedOut?n&&this.options.verify?this.options.verify(t,t.release):t.release():n&&this.options.verify?this.options.verify(t,r=>{if(r)return t.release(r),a.callback(r,void 0,UF);a.callback(void 0,t,t.release)}):a.callback(void 0,t,t.release)}_releaseOnce(t,a){let i=!1;return n=>{i&&ise(),i=!0,this._release(t,a,n)}}_release(t,a,i){if(t.on("error",a),t._poolUseCount=(t._poolUseCount||0)+1,this.emit("release",i,t),i||this.ending||!t._queryable||t._ending||t._poolUseCount>=this.options.maxUses)return t._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(t,this._pulseQueue.bind(this));if(this._expired.has(t))return this.log("remove expired client"),this._expired.delete(t),this._remove(t,this._pulseQueue.bind(this));let r;this.options.idleTimeoutMillis&&this._isAboveMin()&&(r=setTimeout(()=>{this.log("remove idle client"),this._remove(t,this._pulseQueue.bind(this))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&r.unref()),this.options.allowExitOnIdle&&t.unref(),this._idle.push(new mk(t,a,r)),this._pulseQueue()}query(t,a,i){if(typeof t=="function"){let r=Yh(this.Promise,t);return setImmediate(function(){return r.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),r.result}typeof a=="function"&&(i=a,a=void 0);let n=Yh(this.Promise,i);return i=n.callback,this.connect((r,s)=>{if(r)return i(r);let o=!1,c=l=>{o||(o=!0,s.release(l),i(l))};s.once("error",c),this.log("dispatching query");try{s.query(t,a,(l,u)=>{if(this.log("query dispatched"),s.removeListener("error",c),!o)return o=!0,s.release(l),l?i(l):i(void 0,u)})}catch(l){return s.release(l),i(l)}}),n.result}end(t){if(this.log("ending"),this.ending){let i=new Error("Called end on pool more than once");return t?t(i):this.Promise.reject(i)}this.ending=!0;let a=Yh(this.Promise,t);return this._endCallback=a.callback,this._pulseQueue(),a.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((t,a)=>t+(this._expired.has(a)?1:0),0)}get totalCount(){return this._clients.length}};HF.exports=hk});var WF=x((CTe,QF)=>{"use strict";var KF=require("events").EventEmitter,rse=require("util"),vk=Fu(),Ru=QF.exports=function(e,t,a){KF.call(this),e=vk.normalizeQueryConfig(e,t,a),this.text=e.text,this.values=e.values,this.name=e.name,this.queryMode=e.queryMode,this.callback=e.callback,this.state="new",this._arrayMode=e.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(i){i==="row"&&(this._emitRowEvents=!0)}.bind(this))};rse.inherits(Ru,KF);var sse={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};Ru.prototype.handleError=function(e){let t=this.native.pq.resultErrorFields();if(t)for(let a in t){let i=sse[a]||a;e[i]=t[a]}this.callback?this.callback(e):this.emit("error",e),this.state="error"};Ru.prototype.then=function(e,t){return this._getPromise().then(e,t)};Ru.prototype.catch=function(e){return this._getPromise().catch(e)};Ru.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this)),this._promise)};Ru.prototype.submit=function(e){this.state="running";let t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;let a=function(i,n,r){if(e.native.arrayMode=!1,setImmediate(function(){t.emit("_done")}),i)return t.handleError(i);t._emitRowEvents&&(r.length>1?n.forEach((s,o)=>{s.forEach(c=>{t.emit("row",c,r[o])})}):n.forEach(function(s){t.emit("row",s,r)})),t.state="end",t.emit("end",r),t.callback&&t.callback(null,r)};if(process.domain&&(a=process.domain.bind(a)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let i=(this.values||[]).map(vk.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let n=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return a(n)}return e.native.execute(this.name,i,a)}return e.native.prepare(this.name,this.text,i.length,function(n){return n?a(n):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,i,a))})}else if(this.values){if(!Array.isArray(this.values)){let n=new Error("Query values must be an array");return a(n)}let i=this.values.map(vk.prepareValue);e.native.query(this.text,i,a)}else this.queryMode==="extended"?e.native.query(this.text,[],a):e.native.query(this.text,a)}});var JF=x((ETe,XF)=>{"use strict";var GF;try{GF=require("pg-native")}catch(e){throw e}var ose=Lh(),ZF=require("events").EventEmitter,cse=require("util"),use=Iw(),YF=WF(),rn=XF.exports=function(e){ZF.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new ose(e.types),this.native=new GF({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let t=this.connectionParameters=new use(e);e.nativeConnectionString&&(t.nativeConnectionString=e.nativeConnectionString),this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};rn.Query=YF;cse.inherits(rn,ZF);rn.prototype._errorAllQueries=function(e){let t=a=>{process.nextTick(()=>{a.native=this.native,a.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0};rn.prototype._connect=function(e){let t=this;if(this._connecting){process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(a,i){if(t.connectionParameters.nativeConnectionString&&(i=t.connectionParameters.nativeConnectionString),a)return e(a);t.native.connect(i,function(n){if(n)return t.native.end(),e(n);t._connected=!0,t.native.on("error",function(r){t._queryable=!1,t._errorAllQueries(r),t.emit("error",r)}),t.native.on("notification",function(r){t.emit("notification",{channel:r.relname,payload:r.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})};rn.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((t,a)=>{this._connect(i=>{i?a(i):t()})})};rn.prototype.query=function(e,t,a){let i,n,r,s,o;if(e==null)throw new TypeError("Client was passed a null or undefined query");if(typeof e.submit=="function")r=e.query_timeout||this.connectionParameters.query_timeout,n=i=e,typeof t=="function"&&(e.callback=t);else if(r=e.query_timeout||this.connectionParameters.query_timeout,i=new YF(e,t,a),!i.callback){let c,l;n=new this._Promise((u,p)=>{c=u,l=p}).catch(u=>{throw Error.captureStackTrace(u),u}),i.callback=(u,p)=>u?l(u):c(p)}return r&&(o=i.callback,s=setTimeout(()=>{let c=new Error("Query read timeout");process.nextTick(()=>{i.handleError(c,this.connection)}),o(c),i.callback=()=>{};let l=this._queryQueue.indexOf(i);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},r),i.callback=(c,l)=>{clearTimeout(s),o(c,l)}),this._queryable?this._ending?(i.native=this.native,process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"))}),n):(this._queryQueue.push(i),this._pulseQueryQueue(),n):(i.native=this.native,process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"))}),n)};rn.prototype.end=function(e){let t=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e));let a;return e||(a=new this._Promise(function(i,n){e=r=>r?n(r):i()})),this.native.end(function(){t._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{t.emit("end"),e&&e()})}),a};rn.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};rn.prototype._pulseQueryQueue=function(e){if(!this._connected||this._hasActiveQuery())return;let t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);let a=this;t.once("_done",function(){a._pulseQueryQueue()})};rn.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):this._queryQueue.indexOf(e)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)};rn.prototype.ref=function(){};rn.prototype.unref=function(){};rn.prototype.setTypeParser=function(e,t,a){return this._types.setTypeParser(e,t,a)};rn.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}});var xk=x((qTe,e9)=>{"use strict";e9.exports=JF()});var gk=x((ATe,sf)=>{"use strict";var lse=LF(),pse=af(),fse=uk(),dse=Dw(),mse=Fu(),hse=VF(),gse=Lh(),{DatabaseError:vse}=sk(),{escapeIdentifier:xse,escapeLiteral:bse}=Fu(),yse=e=>class extends hse{constructor(a){super(a,e)}},bk=function(e){this.defaults=pse,this.Client=e,this.Query=this.Client.Query,this.Pool=yse(this.Client),this._pools=[],this.Connection=fse,this.types=tf(),this.DatabaseError=vse,this.TypeOverrides=gse,this.escapeIdentifier=xse,this.escapeLiteral=bse,this.Result=dse,this.utils=mse};typeof process.env.NODE_PG_FORCE_NATIVE<"u"?sf.exports=new bk(xk()):(sf.exports=new bk(lse),Object.defineProperty(sf.exports,"native",{configurable:!0,enumerable:!1,get(){let e=null;try{e=new bk(xk())}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t}return Object.defineProperty(sf.exports,"native",{value:e}),e}}))});var xg=x(k9=>{var ece=require("util");k9.deprecate=e=>ece.deprecate(()=>{},e,"node-telegram-bot-api")()});var Pk=x((w9e,j9)=>{"use strict";var _9=Object.prototype.toString;j9.exports=function(t){var a=_9.call(t),i=a==="[object Arguments]";return i||(i=a!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&_9.call(t.callee)==="[object Function]"),i}});var P9=x((k9e,z9)=>{"use strict";var F9;Object.keys||(gf=Object.prototype.hasOwnProperty,Ok=Object.prototype.toString,S9=Pk(),Ik=Object.prototype.propertyIsEnumerable,C9=!Ik.call({toString:null},"toString"),E9=Ik.call(function(){},"prototype"),vf=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],bg=function(e){var t=e.constructor;return t&&t.prototype===e},q9={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},T9=(function(){if(typeof window>"u")return!1;for(var e in window)try{if(!q9["$"+e]&&gf.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{bg(window[e])}catch{return!0}}catch{return!0}return!1})(),A9=function(e){if(typeof window>"u"||!T9)return bg(e);try{return bg(e)}catch{return!1}},F9=function(t){var a=t!==null&&typeof t=="object",i=Ok.call(t)==="[object Function]",n=S9(t),r=a&&Ok.call(t)==="[object String]",s=[];if(!a&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var o=E9&&i;if(r&&t.length>0&&!gf.call(t,0))for(var c=0;c<t.length;++c)s.push(String(c));if(n&&t.length>0)for(var l=0;l<t.length;++l)s.push(String(l));else for(var u in t)!(o&&u==="prototype")&&gf.call(t,u)&&s.push(String(u));if(C9)for(var p=A9(t),f=0;f<vf.length;++f)!(p&&vf[f]==="constructor")&&gf.call(t,vf[f])&&s.push(vf[f]);return s});var gf,Ok,S9,Ik,C9,E9,vf,bg,q9,T9,A9;z9.exports=F9});var D9=x((_9e,B9)=>{"use strict";var tce=Array.prototype.slice,ace=Pk(),O9=Object.keys,yg=O9?function(t){return O9(t)}:P9(),I9=Object.keys;yg.shim=function(){if(Object.keys){var t=(function(){var a=Object.keys(arguments);return a&&a.length===arguments.length})(1,2);t||(Object.keys=function(i){return ace(i)?I9(tce.call(i)):I9(i)})}else Object.keys=yg;return Object.keys||yg};B9.exports=yg});var wg=x((j9e,N9)=>{"use strict";var R9=bp(),ice=_b(),Xu=$a(),M9=gu();N9.exports=function(t,a,i){if(!t||typeof t!="object"&&typeof t!="function")throw new Xu("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new Xu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Xu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Xu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Xu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Xu("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,c=!!M9&&M9(t,a);if(R9)R9(t,a,{configurable:s===null&&c?c.configurable:!s,enumerable:n===null&&c?c.enumerable:!n,value:i,writable:r===null&&c?c.writable:!r});else if(o||!n&&!r&&!s)t[a]=i;else throw new ice("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var kg=x((S9e,U9)=>{"use strict";var Bk=bp(),L9=function(){return!!Bk};L9.hasArrayLengthDefineBug=function(){if(!Bk)return null;try{return Bk([],"length",{value:1}).length!==1}catch{return!0}};U9.exports=L9});var _g=x((C9e,K9)=>{"use strict";var nce=D9(),rce=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",sce=Object.prototype.toString,oce=Array.prototype.concat,$9=wg(),cce=function(e){return typeof e=="function"&&sce.call(e)==="[object Function]"},H9=kg()(),uce=function(e,t,a,i){if(t in e){if(i===!0){if(e[t]===a)return}else if(!cce(i)||!i())return}H9?$9(e,t,a,!0):$9(e,t,a)},V9=function(e,t){var a=arguments.length>2?arguments[2]:{},i=nce(t);rce&&(i=oce.call(i,Object.getOwnPropertySymbols(t)));for(var n=0;n<i.length;n+=1)uce(e,i[n],t[i[n]],a[i[n]])};V9.supportsDescriptors=!!H9;K9.exports=V9});var xf=x((E9e,Q9)=>{"use strict";var lce=$a();Q9.exports=function(t){if(t==null)throw new lce(arguments.length>0&&arguments[1]||"Cannot call method on "+t);return t}});var X9=x((q9e,Y9)=>{"use strict";var pce=nr(),W9=wg(),fce=kg()(),G9=gu(),Z9=$a(),dce=pce("%Math.floor%");Y9.exports=function(t,a){if(typeof t!="function")throw new Z9("`fn` is not a function");if(typeof a!="number"||a<0||a>4294967295||dce(a)!==a)throw new Z9("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,r=!0;if("length"in t&&G9){var s=G9(t,"length");s&&!s.configurable&&(n=!1),s&&!s.writable&&(r=!1)}return(n||r||!i)&&(fce?W9(t,"length",a,!0,!0):W9(t,"length",a)),t}});var ez=x((T9e,J9)=>{"use strict";var mce=vu(),hce=zm(),gce=Tb();J9.exports=function(){return gce(mce,hce,arguments)}});var Dk=x((A9e,jg)=>{"use strict";var vce=X9(),tz=bp(),xce=Pm(),az=ez();jg.exports=function(t){var a=xce(arguments),i=t.length-(arguments.length-1);return vce(a,1+(i>0?i:0),!0)};tz?tz(jg.exports,"apply",{value:az}):jg.exports.apply=az});var rz=x((F9e,nz)=>{"use strict";var bce=nr(),iz=bce("%Array%"),yce=!iz.isArray&&zn()("Object.prototype.toString");nz.exports=iz.isArray||function(t){return yce(t)==="[object Array]"}});var oz=x((z9e,sz)=>{"use strict";sz.exports=rz()});var uz=x((P9e,cz)=>{"use strict";var wce=nr(),kce=zn(),_ce=$a(),jce=oz(),Sce=wce("%Reflect.apply%",!0)||kce("Function.prototype.apply");cz.exports=function(t,a){var i=arguments.length>2?arguments[2]:[];if(!jce(i))throw new _ce("Assertion failed: optional `argumentsList`, if provided, must be a List");return Sce(t,a,i)}});var pz=x((O9e,lz)=>{"use strict";lz.exports=function(t){return typeof t=="string"||typeof t=="symbol"}});var Rk=x((I9e,fz)=>{"use strict";fz.exports=function(t){return!!t&&(typeof t=="function"||typeof t=="object")}});var Mk=x((B9e,mz)=>{"use strict";var dz=$a(),Cce=hu(),Ece=pz(),qce=Rk();mz.exports=function(t,a){if(!qce(t))throw new dz("Assertion failed: Type(O) is not Object");if(!Ece(a))throw new dz("Assertion failed: P is not a Property Key, got "+Cce(a));return t[a]}});var Hk=x((D9e,vz)=>{"use strict";var gz=Function.prototype.toString,Ju=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Lk,Sg;if(typeof Ju=="function"&&typeof Object.defineProperty=="function")try{Lk=Object.defineProperty({},"length",{get:function(){throw Sg}}),Sg={},Ju(function(){throw 42},null,Lk)}catch(e){e!==Sg&&(Ju=null)}else Ju=null;var Tce=/^\s*class\b/,Uk=function(t){try{var a=gz.call(t);return Tce.test(a)}catch{return!1}},Nk=function(t){try{return Uk(t)?!1:(gz.call(t),!0)}catch{return!1}},Cg=Object.prototype.toString,Ace="[object Object]",Fce="[object Function]",zce="[object GeneratorFunction]",Pce="[object HTMLAllCollection]",Oce="[object HTML document.all class]",Ice="[object HTMLCollection]",Bce=typeof Symbol=="function"&&!!Symbol.toStringTag,Dce=!(0 in[,]),$k=function(){return!1};typeof document=="object"&&(hz=document.all,Cg.call(hz)===Cg.call(document.all)&&($k=function(t){if((Dce||!t)&&(typeof t>"u"||typeof t=="object"))try{var a=Cg.call(t);return(a===Pce||a===Oce||a===Ice||a===Ace)&&t("")==null}catch{}return!1}));var hz;vz.exports=Ju?function(t){if($k(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Ju(t,null,Lk)}catch(a){if(a!==Sg)return!1}return!Uk(t)&&Nk(t)}:function(t){if($k(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Bce)return Nk(t);if(Uk(t))return!1;var a=Cg.call(t);return a!==Fce&&a!==zce&&!/^\[object HTML/.test(a)?!1:Nk(t)}});var bz=x((R9e,xz)=>{"use strict";xz.exports=Hk()});var wz=x((M9e,yz)=>{"use strict";yz.exports=Number.MAX_SAFE_INTEGER||9007199254740991});var _z=x((N9e,kz)=>{"use strict";kz.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}});var Sz=x((L9e,jz)=>{"use strict";jz.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}});var Eg=x((U9e,Cz)=>{"use strict";var Rce=Sb();Cz.exports=function(){return Rce()&&!!Symbol.toStringTag}});var Tz=x(($9e,qz)=>{"use strict";var Ez=zn(),Mce=Ez("Date.prototype.getDay"),Nce=function(t){try{return Mce(t),!0}catch{return!1}},Lce=Ez("Object.prototype.toString"),Uce="[object Date]",$ce=Eg()();qz.exports=function(t){return typeof t!="object"||t===null?!1:$ce?Nce(t):Lce(t)===Uce}});var Iz=x((H9e,Oz)=>{"use strict";var Az=zn(),Hce=Eg()(),Vce=xu(),Kce=gu(),Qk;Hce?(Fz=Az("RegExp.prototype.exec"),Vk={},qg=function(){throw Vk},Kk={toString:qg,valueOf:qg},typeof Symbol.toPrimitive=="symbol"&&(Kk[Symbol.toPrimitive]=qg),Qk=function(t){if(!t||typeof t!="object")return!1;var a=Kce(t,"lastIndex"),i=a&&Vce(a,"value");if(!i)return!1;try{Fz(t,Kk)}catch(n){return n===Vk}}):(zz=Az("Object.prototype.toString"),Pz="[object RegExp]",Qk=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:zz(t)===Pz});var Fz,Vk,qg,Kk,zz,Pz;Oz.exports=Qk});var Wk=x((V9e,Bz)=>{"use strict";var Qce=zn(),Wce=Iz(),Gce=Qce("RegExp.prototype.exec"),Zce=$a();Bz.exports=function(t){if(!Wce(t))throw new Zce("`regex` must be a RegExp");return function(i){return Gce(t,i)!==null}}});var Lz=x((K9e,Gk)=>{"use strict";var Nz=zn(),Yce=Nz("Object.prototype.toString"),Xce=Cb()(),Jce=Wk();Xce?(Dz=Nz("Symbol.prototype.toString"),Rz=Jce(/^Symbol\(.*\)$/),Mz=function(t){return typeof t.valueOf()!="symbol"?!1:Rz(Dz(t))},Gk.exports=function(t){if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||Yce(t)!=="[object Symbol]")return!1;try{return Mz(t)}catch{return!1}}):Gk.exports=function(t){return!1};var Dz,Rz,Mz});var Vz=x((Q9e,Hz)=>{"use strict";var eue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Zk=Sz(),$z=Hk(),tue=Tz(),Uz=Lz(),aue=function(t,a){if(typeof t>"u"||t===null)throw new TypeError("Cannot call method on "+t);if(typeof a!="string"||a!=="number"&&a!=="string")throw new TypeError('hint must be "string" or "number"');var i=a==="string"?["toString","valueOf"]:["valueOf","toString"],n,r,s;for(s=0;s<i.length;++s)if(n=t[i[s]],$z(n)&&(r=n.call(t),Zk(r)))return r;throw new TypeError("No default value")},iue=function(t,a){var i=t[a];if(i!==null&&typeof i<"u"){if(!$z(i))throw new TypeError(i+" returned for property "+String(a)+" of object "+t+" is not a function");return i}};Hz.exports=function(t){if(Zk(t))return t;var a="default";arguments.length>1&&(arguments[1]===String?a="string":arguments[1]===Number&&(a="number"));var i;if(eue&&(Symbol.toPrimitive?i=iue(t,Symbol.toPrimitive):Uz(t)&&(i=Symbol.prototype.valueOf)),typeof i<"u"){var n=i.call(t,a);if(Zk(n))return n;throw new TypeError("unable to convert exotic object to primitive")}return a==="default"&&(tue(t)||Uz(t))&&(a="string"),aue(t,a==="default"?"number":a)}});var Wz=x((W9e,Qz)=>{"use strict";var Kz=Vz();Qz.exports=function(t){return arguments.length>1?Kz(t,arguments[1]):Kz(t)}});var Yk=x((G9e,Gz)=>{"use strict";var nue=nr(),rue=nue("%String%"),sue=$a();Gz.exports=function(t){if(typeof t=="symbol")throw new sue("Cannot convert a Symbol value to a string");return rue(t)}});var Xk=x((Z9e,Xz)=>{"use strict";var oue=xf(),cue=Yk(),uue=zn(),Zz=uue("String.prototype.replace"),Yz=/^\s$/.test("\u180E"),lue=Yz?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,pue=Yz?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;Xz.exports=function(){var t=cue(oue(this));return Zz(Zz(t,lue,""),pue,"")}});var Jk=x((Y9e,eP)=>{"use strict";var fue=Xk(),Jz="\u200B",el="\u180E";eP.exports=function(){return String.prototype.trim&&Jz.trim()===Jz&&el.trim()===el&&("_"+el).trim()==="_"+el&&(el+"_").trim()===el+"_"?String.prototype.trim:fue}});var iP=x((X9e,aP)=>{"use strict";var due=kg()(),tP=wg(),mue=Jk();aP.exports=function(){var t=mue();return String.prototype.trim!==t&&(due?tP(String.prototype,"trim",t,!0):tP(String.prototype,"trim",t)),t}});var oP=x((J9e,sP)=>{"use strict";var hue=Dk(),gue=_g(),vue=xf(),xue=Xk(),nP=Jk(),bue=iP(),yue=hue(nP()),rP=function(t){return vue(t),yue(t)};gue(rP,{getPolyfill:nP,implementation:xue,shim:bue});sP.exports=rP});var fP=x((eze,pP)=>{"use strict";var lP=nr(),wue=lP("%RegExp%"),kue=$a(),cP=lP("%parseInt%"),_ue=zn(),Tg=Wk(),uP=_ue("String.prototype.slice"),jue=Tg(/^0b[01]+$/i),Sue=Tg(/^0o[0-7]+$/i),Cue=Tg(/^[-+]0x[0-9a-f]+$/i),Eue=["\x85","\u200B","\uFFFE"].join(""),que=new wue("["+Eue+"]","g"),Tue=Tg(que),Aue=oP();pP.exports=function e(t){if(typeof t!="string")throw new kue("Assertion failed: `argument` is not a String");if(jue(t))return+cP(uP(t,2),2);if(Sue(t))return+cP(uP(t,2),8);if(Tue(t)||Cue(t))return NaN;var a=Aue(t);return a!==t?e(a):+t}});var hP=x((tze,mP)=>{"use strict";var Fue=nr(),dP=$a(),zue=Fue("%Number%"),Pue=_z(),Oue=Wz(),Iue=fP();mP.exports=function(t){var a=Pue(t)?t:Oue(t,zue);if(typeof a=="symbol")throw new dP("Cannot convert a Symbol value to a number");if(typeof a=="bigint")throw new dP("Conversion from 'BigInt' to 'number' is not allowed.");return typeof a=="string"?Iue(a):+a}});var vP=x((aze,gP)=>{"use strict";var Bue=jb();gP.exports=function(t){return typeof t=="bigint"?t:Bue(t)}});var yP=x((ize,bP)=>{"use strict";var xP=vP(),Due=$a();bP.exports=function(t){if(typeof t!="number"&&typeof t!="bigint")throw new Due("argument must be a Number or a BigInt");var a=t<0?-xP(-t):xP(t);return a===0?0:a}});var kP=x((nze,wP)=>{"use strict";var Rue=qm();wP.exports=function(t){return(typeof t=="number"||typeof t=="bigint")&&!Rue(t)&&t!==1/0&&t!==-1/0}});var jP=x((rze,_P)=>{"use strict";var Mue=hP(),Nue=yP(),Lue=qm(),Uue=kP();_P.exports=function(t){var a=Mue(t);return Lue(a)||a===0?0:Uue(a)?Nue(a):a}});var EP=x((sze,CP)=>{"use strict";var SP=wz(),$ue=jP();CP.exports=function(t){var a=$ue(t);return a<=0?0:a>SP?SP:a}});var TP=x((oze,qP)=>{"use strict";var Hue=$a(),Vue=Rk(),Kue=Mk(),Que=EP();qP.exports=function(t){if(!Vue(t))throw new Hue("Assertion failed: `obj` must be an Object");return Que(Kue(t,"length"))}});var FP=x((cze,AP)=>{"use strict";AP.exports=function(t){return!!t}});var PP=x((uze,zP)=>{"use strict";var Wue=Em(),Gue=xf();zP.exports=function(t){return Gue(t),Wue(t)}});var e_=x((lze,OP)=>{"use strict";var Zue=uz(),Yue=Mk(),Xue=bz(),Jue=TP(),ele=FP(),tle=PP(),ale=Yk();OP.exports=function(t){var a=tle(this),i=Jue(a);if(!Xue(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var n=arguments.length>1?arguments[1]:void 0,r=0;r<i;){var s=ale(r),o=Yue(a,s),c=ele(Zue(t,n,[o,r,a]));if(c)return r;r+=1}return-1}});var t_=x((pze,IP)=>{"use strict";var ile=e_();IP.exports=function(){var t=Array.prototype.findIndex&&[,1].findIndex(function(a,i){return i===0})===0;return t?Array.prototype.findIndex:ile}});var NP=x((fze,MP)=>{"use strict";var nle=xu(),RP=typeof Symbol=="function"&&typeof Symbol.unscopables=="symbol",BP=RP&&Array.prototype[Symbol.unscopables],DP=TypeError;MP.exports=function(t){if(typeof t!="string"||!t)throw new DP("method must be a non-empty string");if(!nle(Array.prototype,t))throw new DP("method must be on Array.prototype");RP&&BP&&(BP[t]=!0)}});var UP=x((dze,LP)=>{"use strict";var rle=_g(),sle=NP(),ole=t_();LP.exports=function(){var t=ole();return rle(Array.prototype,{findIndex:t},{findIndex:function(){return Array.prototype.findIndex!==t}}),sle("findIndex"),t}});var a_=x((mze,VP)=>{"use strict";var cle=_g(),ule=xf(),lle=Dk(),ple=zn(),fle=e_(),$P=t_(),dle=UP(),mle=ple("Array.prototype.slice"),hle=lle.apply($P()),HP=function(t,a){ule(t);var i=mle(arguments,1);return hle(t,i)};cle(HP,{getPolyfill:$P,implementation:fle,shim:dle});VP.exports=HP});var Pg=x(fo=>{"use strict";var gle=(function(){function e(t,a){for(var i=0;i<a.length;i++){var n=a[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}})();function Ag(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}fo.BaseError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a+": "+i));return n.code=a,n}return gle(t,[{key:"toJSON",value:function(){return{code:this.code,message:this.message}}}]),t})(Error);fo.FatalError=(function(e){zg(t,e);function t(a){Ag(this,t);var i=typeof a=="string"?null:a,n=i?i.message:a,r=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"EFATAL",n));return i&&(r.stack=i.stack,r.cause=i),r}return t})(fo.BaseError);fo.ParseError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"EPARSE",a));return n.response=i,n}return t})(fo.BaseError);fo.TelegramError=(function(e){zg(t,e);function t(a,i){Ag(this,t);var n=Fg(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ETELEGRAM",a));return n.response=i,n}return t})(fo.BaseError)});var i_=x((gze,KP)=>{"use strict";function vle(e){a.debug=a,a.default=a,a.coerce=c,a.disable=s,a.enable=r,a.enabled=o,a.humanize=Zs(),Object.keys(e).forEach(function(l){a[l]=e[l]}),a.instances=[],a.names=[],a.skips=[],a.formatters={};function t(l){for(var u=0,p=0;p<l.length;p++)u=(u<<5)-u+l.charCodeAt(p),u|=0;return a.colors[Math.abs(u)%a.colors.length]}a.selectColor=t;function a(l){var u;function p(){if(p.enabled){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];var g=p,v=Number(new Date),k=v-(u||v);g.diff=k,g.prev=u,g.curr=v,u=v,d[0]=a.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");var E=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,function(A,$){if(A==="%%")return A;E++;var D=a.formatters[$];if(typeof D=="function"){var z=d[E];A=D.call(g,z),d.splice(E,1),E--}return A}),a.formatArgs.call(g,d);var T=g.log||a.log;T.apply(g,d)}}return p.namespace=l,p.enabled=a.enabled(l),p.useColors=a.useColors(),p.color=t(l),p.destroy=i,p.extend=n,typeof a.init=="function"&&a.init(p),a.instances.push(p),p}function i(){var l=a.instances.indexOf(this);return l!==-1?(a.instances.splice(l,1),!0):!1}function n(l,u){return a(this.namespace+(typeof u>"u"?":":u)+l)}function r(l){a.save(l),a.names=[],a.skips=[];var u,p=(typeof l=="string"?l:"").split(/[\s,]+/),f=p.length;for(u=0;u<f;u++)p[u]&&(l=p[u].replace(/\*/g,".*?"),l[0]==="-"?a.skips.push(new RegExp("^"+l.substr(1)+"$")):a.names.push(new RegExp("^"+l+"$")));for(u=0;u<a.instances.length;u++){var d=a.instances[u];d.enabled=a.enabled(d.namespace)}}function s(){a.enable("")}function o(l){if(l[l.length-1]==="*")return!0;var u,p;for(u=0,p=a.skips.length;u<p;u++)if(a.skips[u].test(l))return!1;for(u=0,p=a.names.length;u<p;u++)if(a.names[u].test(l))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}return a.enable(a.load()),a}KP.exports=vle});var QP=x((Ln,Ig)=>{"use strict";function Og(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Og=function(a){return typeof a}:Og=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Og(e)}Ln.log=yle;Ln.formatArgs=ble;Ln.save=wle;Ln.load=kle;Ln.useColors=xle;Ln.storage=_le();Ln.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xle(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ble(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ig.exports.humanize(this.diff),!!this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(n){n!=="%%"&&(a++,n==="%c"&&(i=a))}),e.splice(i,0,t)}}function yle(){var e;return(typeof console>"u"?"undefined":Og(console))==="object"&&console.log&&(e=console).log.apply(e,arguments)}function wle(e){try{e?Ln.storage.setItem("debug",e):Ln.storage.removeItem("debug")}catch{}}function kle(){var e;try{e=Ln.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function _le(){try{return localStorage}catch{}}Ig.exports=i_()(Ln);var jle=Ig.exports.formatters;jle.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var GP=x((Ci,Rg)=>{"use strict";var Sle=require("tty"),Dg=require("util");Ci.init=zle;Ci.log=Tle;Ci.formatArgs=Ele;Ci.save=Ale;Ci.load=Fle;Ci.useColors=Cle;Ci.colors=[6,2,3,4,5,1];try{Bg=require("supports-color"),Bg&&(Bg.stderr||Bg).level>=2&&(Ci.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}var Bg;Ci.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var a=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(n,r){return r.toUpperCase()}),i=process.env[t];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),e[a]=i,e},{});function Cle(){return"colors"in Ci.inspectOpts?!!Ci.inspectOpts.colors:Sle.isatty(process.stderr.fd)}function Ele(e){var t=this.namespace,a=this.useColors;if(a){var i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),r="  ".concat(n,";1m").concat(t," \x1B[0m");e[0]=r+e[0].split(`
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
    at async /app/dist/index.cjs:465:1952 {
  where: undefined,
  position: '22',
  length: 108,
  schema: undefined,
  internalPosition: undefined,
Node.js v18.20.5
  table: undefined,
  severity: 'ERROR',
  internalQuery: undefined,
  column: undefined,
  routine: 'parserOpenTable'
  code: '42P01',
  constraint: undefined,
  dataType: undefined,
  detail: undefined,
  file: 'parse_relation.c',
}
  hint: undefined,
  line: '1449',
error: relation "bot_users" does not exist